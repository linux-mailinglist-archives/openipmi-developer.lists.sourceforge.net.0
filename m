Return-Path: <openipmi-developer-bounces@lists.sourceforge.net>
X-Original-To: lists+openipmi-developer@lfdr.de
Delivered-To: lists+openipmi-developer@lfdr.de
Received: from lists.sourceforge.net (lists.sourceforge.net [216.105.38.7])
	by mail.lfdr.de (Postfix) with ESMTPS id 6CA20B40771
	for <lists+openipmi-developer@lfdr.de>; Tue,  2 Sep 2025 16:47:20 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=lists.sourceforge.net; s=beta; h=Content-Transfer-Encoding:Content-Type:Cc:
	Reply-To:From:List-Subscribe:List-Help:List-Post:List-Archive:
	List-Unsubscribe:List-Id:Subject:In-Reply-To:MIME-Version:References:
	Message-ID:To:Date:Sender:Content-ID:Content-Description:Resent-Date:
	Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:List-Owner;
	bh=UQkO7mvuL0bTz78963SujFoBL/ihX21q+Bp3CIBXRsY=; b=Ran+d17oa7HqJuo2Yem5+pIYHF
	XFkTMPpqn/xxGEI87OHDTrIVL5ft5xr8edoABNkoa7B1yRttoAwOi9cBKqpD32KrBVj4JaYkkcejo
	cSQjJAFqXZMxiSJ3frREcSCaezcfyTECywJlJJAjfKLeRxM2rleARuZ9xDbXpozw44sE=;
Received: from [127.0.0.1] (helo=sfs-ml-1.v29.lw.sourceforge.com)
	by sfs-ml-1.v29.lw.sourceforge.com with esmtp (Exim 4.95)
	(envelope-from <openipmi-developer-bounces@lists.sourceforge.net>)
	id 1utSHs-0008Cn-Gl;
	Tue, 02 Sep 2025 14:47:08 +0000
Received: from [172.30.29.66] (helo=mx.sourceforge.net)
 by sfs-ml-1.v29.lw.sourceforge.com with esmtps (TLS1.2) tls
 TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (Exim 4.95)
 (envelope-from <lee@kernel.org>) id 1utSHn-0008CK-FE
 for openipmi-developer@lists.sourceforge.net;
 Tue, 02 Sep 2025 14:47:03 +0000
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
 d=sourceforge.net; s=x; h=In-Reply-To:Content-Transfer-Encoding:Content-Type:
 MIME-Version:References:Message-ID:Subject:Cc:To:From:Date:Sender:Reply-To:
 Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:
 Resent-To:Resent-Cc:Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:
 List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=+G6D/HMhqHBDZZfTcZHcOXYEVwTpTTcqoEYSRvuBML0=; b=ThrsFg915iXKAS/cUpg9Txajm8
 hJiQW1HL34JadX+sycMgWJVAuZZU7KsDUaPtVpeU+7AV+xVRciE6lVLiMETFblxkT9QT2xYChhuwq
 yQTZt7UKYe4VAEdUEKrOc7Zlh/f9Sdxx0OrfudWtmtB2//QUBWFdYB8MMThk4LREc2h8=;
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=sf.net; s=x
 ;
 h=In-Reply-To:Content-Transfer-Encoding:Content-Type:MIME-Version:
 References:Message-ID:Subject:Cc:To:From:Date:Sender:Reply-To:Content-ID:
 Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc
 :Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:List-Subscribe:
 List-Post:List-Owner:List-Archive;
 bh=+G6D/HMhqHBDZZfTcZHcOXYEVwTpTTcqoEYSRvuBML0=; b=IU9ULwrVvbmWaV+EfObBOE38GA
 u1HOX2fTgpLTUqLmiXPCGmo2T+2d+1AJ269HHkyc3PzccOWk++l/94gu42IcBzUkwLzsVTCICWrFg
 wO6MPwrz4RrzWL7RRveE9s10QSi4VYrC0j9iqmGLsXGHCjk1t2BfrIMcaY2OtYAIBqjc=;
Received: from tor.source.kernel.org ([172.105.4.254])
 by sfi-mx-2.v28.lw.sourceforge.com with esmtps
 (TLS1.2:ECDHE-RSA-AES256-GCM-SHA384:256) (Exim 4.95)
 id 1utSHY-0000aY-Mv for openipmi-developer@lists.sourceforge.net;
 Tue, 02 Sep 2025 14:46:51 +0000
Received: from smtp.kernel.org (transwarp.subspace.kernel.org [100.75.92.58])
 by tor.source.kernel.org (Postfix) with ESMTP id 8EB9C60218;
 Tue,  2 Sep 2025 14:46:36 +0000 (UTC)
Received: by smtp.kernel.org (Postfix) with ESMTPSA id 8196DC4CEF6;
 Tue,  2 Sep 2025 14:46:33 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=k20201202; t=1756824396;
 bh=kaBG2w9TksfL1dOZ8czdQ8x5eGNez7ihzCL6BkbFWsc=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=FZsRbNEC1gzGZIPwADzQSqvfIJI/SfW2hkB6PK2D+eLyK9o1jxfiZBP1+Cf6dN9ka
 jL8pXHp3AQDGFCvNqrJeHVF6uX3MW6VB9ZxQhudsfGkxsK2StWAjXpmmzVhWDjPJ/J
 BOrlPv7LQHfTCqRg1CC6IIjnglyJsEYJC+E8LkwysImD5RZ97MWJXYTR74ERWm2np2
 xJrJQDLfMBVbXzWy0DXWU1US/yI9egPmqdessTMkzOgdqQztvvS5QKJyksnMZcaNoW
 t/vNqkNNV5s9NFmmceScTT+v7DfMfwhMR+J/wBxgPfnKoMdT+zYblXK5LKZ/p1PkM0
 0uDfTsEBBrrIQ==
Date: Tue, 2 Sep 2025 15:46:30 +0100
To: Binbin Zhou <zhoubinbin@loongson.cn>
Message-ID: <20250902144630.GS2163762@google.com>
References: <cover.1755853480.git.zhoubinbin@loongson.cn>
 <8c67ace6b4b49725b0a2a7345e3683dbdf65e21c.1755853480.git.zhoubinbin@loongson.cn>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <8c67ace6b4b49725b0a2a7345e3683dbdf65e21c.1755853480.git.zhoubinbin@loongson.cn>
X-Spam-Score: -0.2 (/)
X-Spam-Report: Spam detection software,
 running on the system "sfi-spamd-2.hosts.colo.sdot.me", 
 has NOT identified this incoming email as spam.  The original
 message has been attached to this so you can view it or label
 similar future email.  If you have any questions, see
 the administrator of that system for details.
 Content preview:  On Fri, 22 Aug 2025, Binbin Zhou wrote: > Since the display
 is a sub-function of the Loongson-2K BMC, when the > BMC reset, the entire
 BMC PCIe is disconnected, including the display > which is interrupted. >
 > Quick overview of the entire [...] 
 Content analysis details:   (-0.2 points, 5.0 required)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 0.1 DKIM_SIGNED            Message has a DKIM or DK signature,
 not necessarily valid
 -0.1 DKIM_VALID Message has at least one valid DKIM or DK signature
 -0.1 DKIM_VALID_AU Message has a valid DKIM or DK signature from author's
 domain
 -0.1 DKIM_VALID_EF          Message has a valid DKIM or DK signature from
 envelope-from domain
 -0.0 DKIMWL_WL_HIGH         DKIMwl.org - High trust sender
X-Headers-End: 1utSHY-0000aY-Mv
Subject: Re: [Openipmi-developer] [PATCH v10 2/3] mfd: ls2kbmc: Add
 Loongson-2K BMC reset function support
X-BeenThere: openipmi-developer@lists.sourceforge.net
X-Mailman-Version: 2.1.21
Precedence: list
List-Id: Developer list of OpenIPMI library and Linux driver
 <openipmi-developer.lists.sourceforge.net>
List-Unsubscribe: <https://lists.sourceforge.net/lists/options/openipmi-developer>, 
 <mailto:openipmi-developer-request@lists.sourceforge.net?subject=unsubscribe>
List-Archive: <http://sourceforge.net/mailarchive/forum.php?forum_name=openipmi-developer>
List-Post: <mailto:openipmi-developer@lists.sourceforge.net>
List-Help: <mailto:openipmi-developer-request@lists.sourceforge.net?subject=help>
List-Subscribe: <https://lists.sourceforge.net/lists/listinfo/openipmi-developer>, 
 <mailto:openipmi-developer-request@lists.sourceforge.net?subject=subscribe>
From: Lee Jones via Openipmi-developer
 <openipmi-developer@lists.sourceforge.net>
Reply-To: Lee Jones <lee@kernel.org>
Cc: Chong Qiao <qiaochong@loongson.cn>, jeffbai@aosc.io,
 Corey Minyard <minyard@acm.org>, kexybiscuit@aosc.io,
 Binbin Zhou <zhoubb.aaron@gmail.com>, Huacai Chen <chenhuacai@kernel.org>,
 linux-kernel@vger.kernel.org, Corey Minyard <corey@minyard.net>,
 loongarch@lists.linux.dev, wangyao@lemote.com, Xuerui Wang <kernel@xen0n.name>,
 openipmi-developer@lists.sourceforge.net, Huacai Chen <chenhuacai@loongson.cn>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: openipmi-developer-bounces@lists.sourceforge.net

T24gRnJpLCAyMiBBdWcgMjAyNSwgQmluYmluIFpob3Ugd3JvdGU6Cgo+IFNpbmNlIHRoZSBkaXNw
bGF5IGlzIGEgc3ViLWZ1bmN0aW9uIG9mIHRoZSBMb29uZ3Nvbi0ySyBCTUMsIHdoZW4gdGhlCj4g
Qk1DIHJlc2V0LCB0aGUgZW50aXJlIEJNQyBQQ0llIGlzIGRpc2Nvbm5lY3RlZCwgaW5jbHVkaW5n
IHRoZSBkaXNwbGF5Cj4gd2hpY2ggaXMgaW50ZXJydXB0ZWQuCj4gCj4gUXVpY2sgb3ZlcnZpZXcg
b2YgdGhlIGVudGlyZSBMUzJLIEJNQyByZXNldCBwcm9jZXNzOgo+IAo+IFRoZXJlIGFyZSB0d28g
dHlwZXMgb2YgcmVzZXQgbWV0aG9kczogc29mdCByZXNldCAoQk1DLWluaXRpYXRlZCByZWJvb3QK
PiBvZiBJUE1JIHJlc2V0IGNvbW1hbmQpIGFuZCBCTUMgd2F0Y2hkb2cgcmVzZXQgKHdhdGNoZG9n
IHRpbWVvdXQpLgo+IAo+IEZpcnN0LCByZWdhcmRsZXNzIG9mIHRoZSBtZXRob2QsIGFuIGludGVy
cnVwdCBpcyBnZW5lcmF0ZWQgKFBDSWUgaW50ZXJydXB0Cj4gZm9yIHNvZnQgcmVzZXQvR1BJTyBp
bnRlcnJ1cHQgZm9yIHdhdGNoZG9nIHJlc2V0KTsKPiAKPiBTZWNvbmQsIGR1cmluZyB0aGUgaW50
ZXJydXB0IHByb2Nlc3MsIHRoZSBzeXN0ZW0gZW50ZXJzIGJtY19yZXNldF93b3JrLAo+IGNsZWFy
cyB0aGUgYnVzL0lPL21lbSByZXNvdXJjZXMgb2YgdGhlIExTN0EgUENJLUUgYnJpZGdlLCB3YWl0
cyBmb3IgdGhlIEJNQwo+IHJlc2V0IHRvIGJlZ2luLCB0aGVuIHJlc3RvcmVzIHRoZSBwYXJlbnQg
ZGV2aWNlJ3MgUENJIGNvbmZpZ3VyYXRpb24gc3BhY2UsCj4gd2FpdHMgZm9yIHRoZSBCTUMgcmVz
ZXQgdG8gY29tcGxldGUsIGFuZCBmaW5hbGx5IHJlc3RvcmVzIHRoZSBCTUMgUENJCj4gY29uZmln
dXJhdGlvbiBzcGFjZS4KPiAKPiBEaXNwbGF5IHJlc3RvcmF0aW9uIG9jY3VycyBsYXN0Lgo+IAo+
IENvLWRldmVsb3BlZC1ieTogQ2hvbmcgUWlhbyA8cWlhb2Nob25nQGxvb25nc29uLmNuPgo+IFNp
Z25lZC1vZmYtYnk6IENob25nIFFpYW8gPHFpYW9jaG9uZ0Bsb29uZ3Nvbi5jbj4KPiBSZXZpZXdl
ZC1ieTogSHVhY2FpIENoZW4gPGNoZW5odWFjYWlAbG9vbmdzb24uY24+Cj4gQWNrZWQtYnk6IENv
cmV5IE1pbnlhcmQgPGNvcmV5QG1pbnlhcmQubmV0Pgo+IFNpZ25lZC1vZmYtYnk6IEJpbmJpbiBa
aG91IDx6aG91YmluYmluQGxvb25nc29uLmNuPgo+IC0tLQo+ICBkcml2ZXJzL21mZC9sczJrLWJt
Yy1jb3JlLmMgfCAzMzYgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrCj4gIDEg
ZmlsZSBjaGFuZ2VkLCAzMzYgaW5zZXJ0aW9ucygrKQoKQ291cGxlIG9mIG5pdHMgdG8gZmluaXNo
IHVwOgoKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9tZmQvbHMyay1ibWMtY29yZS5jIGIvZHJpdmVy
cy9tZmQvbHMyay1ibWMtY29yZS5jCj4gaW5kZXggMzljYzQ4MWQ5YmExLi5mYTdmMWE4MjIwNzYg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9tZmQvbHMyay1ibWMtY29yZS5jCj4gKysrIGIvZHJpdmVy
cy9tZmQvbHMyay1ibWMtY29yZS5jCj4gQEAgLTEwLDggKzEwLDEyIEBACj4gICAqLwo+ICAKPiAg
I2luY2x1ZGUgPGxpbnV4L2FwZXJ0dXJlLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9iaXRmaWVsZC5o
Pgo+ICsjaW5jbHVkZSA8bGludXgvZGVsYXkuaD4KPiAgI2luY2x1ZGUgPGxpbnV4L2Vycm5vLmg+
Cj4gICNpbmNsdWRlIDxsaW51eC9pbml0Lmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9pb3BvbGwuaD4K
PiArI2luY2x1ZGUgPGxpbnV4L2tiZF9rZXJuLmg+Cj4gICNpbmNsdWRlIDxsaW51eC9rZXJuZWwu
aD4KPiAgI2luY2x1ZGUgPGxpbnV4L21mZC9jb3JlLmg+Cj4gICNpbmNsdWRlIDxsaW51eC9tb2R1
bGUuaD4KPiBAQCAtMTksNiArMjMsOCBAQAo+ICAjaW5jbHVkZSA8bGludXgvcGNpX2lkcy5oPgo+
ICAjaW5jbHVkZSA8bGludXgvcGxhdGZvcm1fZGF0YS9zaW1wbGVmYi5oPgo+ICAjaW5jbHVkZSA8
bGludXgvcGxhdGZvcm1fZGV2aWNlLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9zdG9wX21hY2hpbmUu
aD4KPiArI2luY2x1ZGUgPGxpbnV4L3Z0X2tlcm4uaD4KPiAgCj4gIC8qIExTMksgQk1DIHJlc291
cmNlcyAqLwo+ICAjZGVmaW5lIExTMktfRElTUExBWV9SRVNfU1RBUlQJCShTWl8xNk0gKyBTWl8y
TSkKPiBAQCAtMjksNiArMzUsNDggQEAKPiAgI2RlZmluZSBMUzJLX0lQTUkzX1JFU19TVEFSVAkJ
KExTMktfSVBNSTJfUkVTX1NUQVJUICsgTFMyS19JUE1JX1JFU19TSVpFKQo+ICAjZGVmaW5lIExT
MktfSVBNSTRfUkVTX1NUQVJUCQkoTFMyS19JUE1JM19SRVNfU1RBUlQgKyBMUzJLX0lQTUlfUkVT
X1NJWkUpCj4gIAo+ICsjZGVmaW5lIExTN0FfUENJX0NGR19TSVpFCQkweDEwMAo+ICsKPiArLyog
TFM3QSBicmlkZ2UgcmVnaXN0ZXJzICovCj4gKyNkZWZpbmUgTFM3QV9QQ0lFX1BPUlRfQ1RMMAkJ
MHgwCj4gKyNkZWZpbmUgTFM3QV9QQ0lFX1BPUlRfU1RTMQkJMHhDCj4gKyNkZWZpbmUgTFM3QV9H
RU4yX0NUTAkJCTB4ODBDCj4gKyNkZWZpbmUgTFM3QV9TWU1CT0xfVElNRVIJCTB4NzFDCj4gKwo+
ICsvKiBCaXRzIG9mIExTN0FfUENJRV9QT1JUX0NUTDAgKi8KPiArI2RlZmluZSBMUzJLX0JNQ19Q
Q0lFX0xUU1NNX0VOQUJMRQlCSVQoMykKPiArCj4gKy8qIEJpdHMgb2YgTFM3QV9QQ0lFX1BPUlRf
U1RTMSAqLwo+ICsjZGVmaW5lIExTMktfQk1DX1BDSUVfTFRTU01fU1RTCQlHRU5NQVNLKDUsIDAp
Cj4gKyNkZWZpbmUgTFMyS19CTUNfUENJRV9DT05ORUNURUQJCTB4MTEKPiArCj4gKyNkZWZpbmUg
TFMyS19CTUNfUENJRV9ERUxBWV9VUwkJMTAwMAo+ICsjZGVmaW5lIExTMktfQk1DX1BDSUVfVElN
RU9VVF9VUwkxMDAwMDAwCj4gKwo+ICsvKiBCaXRzIG9mIExTN0FfR0VOMl9DVEwgKi8KPiArI2Rl
ZmluZSBMUzdBX0dFTjJfU1BFRURfQ0hBTkcJCUJJVCgxNykKPiArI2RlZmluZSBMUzdBX0NPTkZf
UEhZX1RYCQlCSVQoMTgpCj4gKwo+ICsvKiBCaXRzIG9mIExTN0FfU1lNQk9MX1RJTUVSICovCj4g
KyNkZWZpbmUgTFM3QV9NQVNLX0xFTl9NQVRDSAkJQklUKDI2KQo+ICsKPiArLyogSW50ZXJ2YWwg
YmV0d2VlbiBpbnRlcnJ1cHRpb25zICovCj4gKyNkZWZpbmUgTFMyS19CTUNfSU5UX0lOVEVSVkFM
CQkoNjAgKiBIWikKPiArCj4gKy8qIE1heGltdW0gdGltZSB0byB3YWl0IGZvciBVLUJvb3QgYW5k
IEREUiB0byBiZSByZWFkeSB3aXRoIG1zLiAqLwo+ICsjZGVmaW5lIExTMktfQk1DX1JFU0VUX1dB
SVRfVElNRQkxMDAwMAo+ICsKPiArLyogSXQncyBhbiBleHBlcmllbmNlIHZhbHVlICovCj4gKyNk
ZWZpbmUgTFM3QV9CQVIwX0NIRUNLX01BWF9USU1FUwkyMDAwCj4gKwo+ICsjZGVmaW5lIExTMktf
Qk1DX1JFU0VUX0dQSU8JCTE0Cj4gKyNkZWZpbmUgTE9PTkdTT05fR1BJT19SRUdfQkFTRQkJMHgx
RkUwMDUwMAo+ICsjZGVmaW5lIExPT05HU09OX0dQSU9fUkVHX1NJWkUJCTB4MTgKPiArI2RlZmlu
ZSBMT09OR1NPTl9HUElPX09FTgkJMHgwCj4gKyNkZWZpbmUgTE9PTkdTT05fR1BJT19GVU5DCQkw
eDQKPiArI2RlZmluZSBMT09OR1NPTl9HUElPX0lOVFBPTAkJMHgxMAo+ICsjZGVmaW5lIExPT05H
U09OX0dQSU9fSU5URU4JCTB4MTQKPiArCj4gIGVudW0gewo+ICAJTFMyS19CTUNfRElTUExBWSwK
PiAgCUxTMktfQk1DX0lQTUkwLAo+IEBAIC05NSw2ICsxNDMsMjgxIEBAIHN0YXRpYyBzdHJ1Y3Qg
bWZkX2NlbGwgbHMya19ibWNfY2VsbHNbXSA9IHsKPiAgCX0sCj4gIH07Cj4gIAo+ICsvKiBJbmRl
eCBvZiB0aGUgQk1DIFBDSSBjb25maWd1cmF0aW9uIHNwYWNlIHRvIGJlIHJlc3RvcmVkIGF0IEJN
QyByZXNldC4gKi8KPiArc3RydWN0IGxzMmtfYm1jX3BjaV9kYXRhIHsKPiArCXUzMiBwY2lfY29t
bWFuZDsKPiArCXUzMiBiYXNlX2FkZHJlc3MwOwo+ICsJdTMyIGludGVycnVwdF9saW5lOwo+ICt9
Owo+ICsKPiArLyogSW5kZXggb2YgdGhlIHBhcmVudCBQQ0kgY29uZmlndXJhdGlvbiBzcGFjZSB0
byBiZSByZXN0b3JlZCBhdCBCTUMgcmVzZXQuICovCj4gK3N0cnVjdCBsczJrX2JtY19icmlkZ2Vf
cGNpX2RhdGEgewo+ICsJdTMyIHBjaV9jb21tYW5kOwo+ICsJdTMyIGJhc2VfYWRkcmVzc1s2XTsK
PiArCXUzMiByb21fYWRkcmVlc3M7Cj4gKwl1MzIgaW50ZXJydXB0X2xpbmU7Cj4gKwl1MzIgbXNp
X2hpOwo+ICsJdTMyIG1zaV9sbzsKPiArCXUzMiBkZXZjdGw7Cj4gKwl1MzIgbGlua2NhcDsKPiAr
CXUzMiBsaW5rY3RsX3N0czsKPiArCXUzMiBzeW1ib2xfdGltZXI7Cj4gKwl1MzIgZ2VuMl9jdHJs
Owo+ICt9Owo+ICsKPiArc3RydWN0IGxzMmtfYm1jX3BkYXRhIHsKCkRyb3AgdGhlIHBkYXRhIHBh
cnQgY29tcGxldGVseS4KCnBkYXRhIGlzIHNvbWV0aGluZyBlbHNlLgoKPiArCXN0cnVjdCBkZXZp
Y2UgKmRldjsKPiArCXN0cnVjdCB3b3JrX3N0cnVjdCBibWNfcmVzZXRfd29yazsKPiArCXN0cnVj
dCBsczJrX2JtY19wY2lfZGF0YSBibWNfcGNpX2RhdGE7Cj4gKwlzdHJ1Y3QgbHMya19ibWNfYnJp
ZGdlX3BjaV9kYXRhIGJyaWRnZV9wY2lfZGF0YTsKPiArfTsKPiArCj4gK3N0YXRpYyBib29sIGxz
MmtfYm1jX2JhcjBfYWRkcl9pc19zZXQoc3RydWN0IHBjaV9kZXYgKnBkZXYpCj4gK3sKPiArCXUz
MiBhZGRyOwo+ICsKPiArCXBjaV9yZWFkX2NvbmZpZ19kd29yZChwZGV2LCBQQ0lfQkFTRV9BRERS
RVNTXzAsICZhZGRyKTsKPiArCj4gKwlyZXR1cm4gYWRkciAmIFBDSV9CQVNFX0FERFJFU1NfTUVN
X01BU0sgPyB0cnVlIDogZmFsc2U7Cj4gK30KPiArCj4gK3N0YXRpYyBib29sIGxzMmtfYm1jX3Bj
aWVfaXNfY29ubmVjdGVkKHN0cnVjdCBwY2lfZGV2ICpwYXJlbnQsIHN0cnVjdCBsczJrX2JtY19w
ZGF0YSAqZGRhdGEpCj4gK3sKPiArCXZvaWQgX19pb21lbSAqYmFzZTsKPiArCWludCB2YWwsIHJl
dDsKPiArCj4gKwliYXNlID0gcGNpX2lvbWFwKHBhcmVudCwgMCwgTFM3QV9QQ0lfQ0ZHX1NJWkUp
Owo+ICsJaWYgKCFiYXNlKQo+ICsJCXJldHVybiBmYWxzZTsKPiArCj4gKwl2YWwgPSByZWFkbChi
YXNlICsgTFM3QV9QQ0lFX1BPUlRfQ1RMMCk7Cj4gKwl3cml0ZWwodmFsIHwgTFMyS19CTUNfUENJ
RV9MVFNTTV9FTkFCTEUsIGJhc2UgKyBMUzdBX1BDSUVfUE9SVF9DVEwwKTsKPiArCj4gKwlyZXQg
PSByZWFkbF9wb2xsX3RpbWVvdXRfYXRvbWljKGJhc2UgKyBMUzdBX1BDSUVfUE9SVF9TVFMxLCB2
YWwsCj4gKwkJCQkJKHZhbCAmIExTMktfQk1DX1BDSUVfTFRTU01fU1RTKSA9PSBMUzJLX0JNQ19Q
Q0lFX0NPTk5FQ1RFRCwKPiArCQkJCQlMUzJLX0JNQ19QQ0lFX0RFTEFZX1VTLCBMUzJLX0JNQ19Q
Q0lFX1RJTUVPVVRfVVMpOwo+ICsJaWYgKHJldCkgewo+ICsJCXBjaV9pb3VubWFwKHBhcmVudCwg
YmFzZSk7Cj4gKwkJZGV2X2VycihkZGF0YS0+ZGV2LCAiUENJLUUgdHJhaW5pbmcgZmFpbGVkIHN0
YXR1cz0weCV4XG4iLCB2YWwpOwo+ICsJCXJldHVybiBmYWxzZTsKPiArCX0KPiArCj4gKwlwY2lf
aW91bm1hcChwYXJlbnQsIGJhc2UpOwo+ICsJcmV0dXJuIHRydWU7Cj4gK30KPiArCj4gK3N0YXRp
YyB2b2lkIGxzMmtfYm1jX3Jlc3RvcmVfYnJpZGdlX3BjaV9kYXRhKHN0cnVjdCBwY2lfZGV2ICpw
YXJlbnQsIHN0cnVjdCBsczJrX2JtY19wZGF0YSAqZGRhdGEpCj4gK3sKPiArCWludCBiYXNlLCBp
ID0gMDsKPiArCj4gKwlwY2lfd3JpdGVfY29uZmlnX2R3b3JkKHBhcmVudCwgUENJX0NPTU1BTkQs
IGRkYXRhLT5icmlkZ2VfcGNpX2RhdGEucGNpX2NvbW1hbmQpOwo+ICsKPiArCWZvciAoYmFzZSA9
IFBDSV9CQVNFX0FERFJFU1NfMDsgYmFzZSA8PSBQQ0lfQkFTRV9BRERSRVNTXzU7IGJhc2UgKz0g
NCwgaSsrKQoKRGVmaW5lIDQuCgo+ICsJCXBjaV93cml0ZV9jb25maWdfZHdvcmQocGFyZW50LCBi
YXNlLCBkZGF0YS0+YnJpZGdlX3BjaV9kYXRhLmJhc2VfYWRkcmVzc1tpXSk7Cj4gKwo+ICsJcGNp
X3dyaXRlX2NvbmZpZ19kd29yZChwYXJlbnQsIFBDSV9ST01fQUREUkVTUywgZGRhdGEtPmJyaWRn
ZV9wY2lfZGF0YS5yb21fYWRkcmVlc3MpOwo+ICsJcGNpX3dyaXRlX2NvbmZpZ19kd29yZChwYXJl
bnQsIFBDSV9JTlRFUlJVUFRfTElORSwgZGRhdGEtPmJyaWRnZV9wY2lfZGF0YS5pbnRlcnJ1cHRf
bGluZSk7Cj4gKwo+ICsJcGNpX3dyaXRlX2NvbmZpZ19kd29yZChwYXJlbnQsIHBhcmVudC0+bXNp
X2NhcCArIFBDSV9NU0lfQUREUkVTU19MTywKPiArCQkJICAgICAgIGRkYXRhLT5icmlkZ2VfcGNp
X2RhdGEubXNpX2xvKTsKPiArCXBjaV93cml0ZV9jb25maWdfZHdvcmQocGFyZW50LCBwYXJlbnQt
Pm1zaV9jYXAgKyBQQ0lfTVNJX0FERFJFU1NfSEksCj4gKwkJCSAgICAgICBkZGF0YS0+YnJpZGdl
X3BjaV9kYXRhLm1zaV9oaSk7Cj4gKwlwY2lfd3JpdGVfY29uZmlnX2R3b3JkKHBhcmVudCwgcGFy
ZW50LT5wY2llX2NhcCArIFBDSV9FWFBfREVWQ1RMLAo+ICsJCQkgICAgICAgZGRhdGEtPmJyaWRn
ZV9wY2lfZGF0YS5kZXZjdGwpOwo+ICsJcGNpX3dyaXRlX2NvbmZpZ19kd29yZChwYXJlbnQsIHBh
cmVudC0+cGNpZV9jYXAgKyBQQ0lfRVhQX0xOS0NBUCwKPiArCQkJICAgICAgIGRkYXRhLT5icmlk
Z2VfcGNpX2RhdGEubGlua2NhcCk7Cj4gKwlwY2lfd3JpdGVfY29uZmlnX2R3b3JkKHBhcmVudCwg
cGFyZW50LT5wY2llX2NhcCArIFBDSV9FWFBfTE5LQ1RMLAo+ICsJCQkgICAgICAgZGRhdGEtPmJy
aWRnZV9wY2lfZGF0YS5saW5rY3RsX3N0cyk7Cj4gKwo+ICsJcGNpX3dyaXRlX2NvbmZpZ19kd29y
ZChwYXJlbnQsIExTN0FfR0VOMl9DVEwsIGRkYXRhLT5icmlkZ2VfcGNpX2RhdGEuZ2VuMl9jdHJs
KTsKPiArCXBjaV93cml0ZV9jb25maWdfZHdvcmQocGFyZW50LCBMUzdBX1NZTUJPTF9USU1FUiwg
ZGRhdGEtPmJyaWRnZV9wY2lfZGF0YS5zeW1ib2xfdGltZXIpOwo+ICt9Cj4gKwo+ICtzdGF0aWMg
aW50IGxzMmtfYm1jX3JlY292ZXJfcGNpX2RhdGEodm9pZCAqZGF0YSkKPiArewo+ICsJc3RydWN0
IGxzMmtfYm1jX3BkYXRhICpkZGF0YSA9IGRhdGE7Cj4gKwlzdHJ1Y3QgcGNpX2RldiAqcGRldiA9
IHRvX3BjaV9kZXYoZGRhdGEtPmRldik7Cj4gKwlzdHJ1Y3QgcGNpX2RldiAqcGFyZW50ID0gcGRl
di0+YnVzLT5zZWxmOwo+ICsJdTMyIGk7Cj4gKwo+ICsJLyoKPiArCSAqIENsZWFyIHRoZSBidXMs
IGlvIGFuZCBtZW0gcmVzb3VyY2VzIG9mIHRoZSBQQ0ktRSBicmlkZ2UgdG8gemVybywgc28gdGhh
dAo+ICsJICogdGhlIHByb2Nlc3NvciBjYW4gbm90IGFjY2VzcyB0aGUgTFMySyBQQ0ktRSBwb3J0
LCB0byBhdm9pZCBjcmFzaGluZyBkdWUgdG8KPiArCSAqIHRoZSBsYWNrIG9mIHJldHVybiBzaWdu
YWwgZnJvbSBhY2Nlc3NpbmcgdGhlIExTMksgUENJLUUgcG9ydC4KPiArCSAqLwo+ICsJcGNpX3dy
aXRlX2NvbmZpZ19kd29yZChwYXJlbnQsIFBDSV9CQVNFX0FERFJFU1NfMiwgMCk7Cj4gKwlwY2lf
d3JpdGVfY29uZmlnX2R3b3JkKHBhcmVudCwgUENJX0JBU0VfQUREUkVTU18zLCAwKTsKPiArCXBj
aV93cml0ZV9jb25maWdfZHdvcmQocGFyZW50LCBQQ0lfQkFTRV9BRERSRVNTXzQsIDApOwo+ICsK
PiArCS8qCj4gKwkgKiBXaGVuIHRoZSBMUzJLIEJNQyBpcyByZXNldCwgdGhlIExTN0EgUENJLUUg
cG9ydCBpcyBhbHNvIHJlc2V0LCBhbmQgaXRzIFBDSQo+ICsJICogQkFSMCByZWdpc3RlciBpcyBj
bGVhcmVkLiBEdWUgdG8gdGhlIHRpbWUgZ2FwIGJldHdlZW4gdGhlIEdQSU8gaW50ZXJydXB0Cj4g
KwkgKiBnZW5lcmF0aW9uIGFuZCB0aGUgTFMySyBCTUMgcmVzZXQsIHRoZSBMUzdBIFBDSSBCQVIw
IHJlZ2lzdGVyIGlzIHJlYWQgdG8KPiArCSAqIGRldGVybWluZSB3aGV0aGVyIHRoZSByZXNldCBo
YXMgYmVndW4uCj4gKwkgKi8KPiArCWZvciAoaSA9IExTN0FfQkFSMF9DSEVDS19NQVhfVElNRVM7
IGkgPiAwIDsgaS0tKSB7Cj4gKwkJaWYgKCFsczJrX2JtY19iYXIwX2FkZHJfaXNfc2V0KHBhcmVu
dCkpCj4gKwkJCWJyZWFrOwo+ICsJCW1kZWxheSgxKTsKPiArCX07Cj4gKwo+ICsJaWYgKGkgPT0g
MCkKPiArCQlyZXR1cm4gZmFsc2U7Cj4gKwo+ICsJbHMya19ibWNfcmVzdG9yZV9icmlkZ2VfcGNp
X2RhdGEocGFyZW50LCBkZGF0YSk7Cj4gKwo+ICsJLyogQ2hlY2sgaWYgUENJLUUgaXMgY29ubmVj
dGVkICovCj4gKwlpZiAoIWxzMmtfYm1jX3BjaWVfaXNfY29ubmVjdGVkKHBhcmVudCwgZGRhdGEp
KQo+ICsJCXJldHVybiBmYWxzZTsKPiArCj4gKwkvKiBXYWl0aW5nIGZvciBVLUJvb3QgYW5kIERE
UiByZWFkeSAqLwo+ICsJbWRlbGF5KExTMktfQk1DX1JFU0VUX1dBSVRfVElNRSk7Cj4gKwlpZiAo
IWxzMmtfYm1jX2JhcjBfYWRkcl9pc19zZXQocGFyZW50KSkKPiArCQlyZXR1cm4gZmFsc2U7Cj4g
Kwo+ICsJLyogUmVzdG9yZSBMUzJLIEJNQyBQQ0ktRSBjb25maWcgZGF0YSAqLwo+ICsJcGNpX3dy
aXRlX2NvbmZpZ19kd29yZChwZGV2LCBQQ0lfQ09NTUFORCwgZGRhdGEtPmJtY19wY2lfZGF0YS5w
Y2lfY29tbWFuZCk7Cj4gKwlwY2lfd3JpdGVfY29uZmlnX2R3b3JkKHBkZXYsIFBDSV9CQVNFX0FE
RFJFU1NfMCwgZGRhdGEtPmJtY19wY2lfZGF0YS5iYXNlX2FkZHJlc3MwKTsKPiArCXBjaV93cml0
ZV9jb25maWdfZHdvcmQocGRldiwgUENJX0lOVEVSUlVQVF9MSU5FLCBkZGF0YS0+Ym1jX3BjaV9k
YXRhLmludGVycnVwdF9saW5lKTsKPiArCj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiArc3RhdGlj
IHZvaWQgbHMya19ibWNfZXZlbnRzX2ZuKHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yaykKPiArewo+
ICsJc3RydWN0IGxzMmtfYm1jX3BkYXRhICpkZGF0YSA9IGNvbnRhaW5lcl9vZih3b3JrLCBzdHJ1
Y3QgbHMya19ibWNfcGRhdGEsIGJtY19yZXNldF93b3JrKTsKPiArCj4gKwkvKgo+ICsJICogVGhl
IFBDSS1FIGlzIGxvc3Qgd2hlbiB0aGUgQk1DIHJlc2V0cywgYXQgd2hpY2ggcG9pbnQgYWNjZXNz
IHRvIHRoZSBQQ0ktRQo+ICsJICogZnJvbSBvdGhlciBDUFVzIGlzIHN1c3BlbmRlZCB0byBwcmV2
ZW50IGEgY3Jhc2guCj4gKwkgKi8KPiArCXN0b3BfbWFjaGluZShsczJrX2JtY19yZWNvdmVyX3Bj
aV9kYXRhLCBkZGF0YSwgTlVMTCk7Cj4gKwo+ICsJaWYgKElTX0VOQUJMRUQoQ09ORklHX1ZUKSkg
ewo+ICsJCS8qIFJlLXB1c2ggdGhlIGRpc3BsYXkgZHVlIHRvIHByZXZpb3VzIFBDSS1FIGxvc3Mu
ICovCj4gKwkJc2V0X2NvbnNvbGUodnRfbW92ZV90b19jb25zb2xlKE1BWF9OUl9DT05TT0xFUyAt
IDEsIDEpKTsKPiArCX0KPiArfQo+ICsKPiArc3RhdGljIGlycXJldHVybl90IGxzMmtfYm1jX2lu
dGVycnVwdChpbnQgaXJxLCB2b2lkICphcmcpCj4gK3sKPiArCXN0cnVjdCBsczJrX2JtY19wZGF0
YSAqZGRhdGEgPSBhcmc7Cj4gKwlzdGF0aWMgdW5zaWduZWQgbG9uZyBsYXN0X2ppZmZpZXM7Cj4g
Kwo+ICsJaWYgKHN5c3RlbV9zdGF0ZSAhPSBTWVNURU1fUlVOTklORykKPiArCQlyZXR1cm4gSVJR
X0hBTkRMRUQ7Cj4gKwo+ICsJLyogU2tpcCBpbnRlcnJ1cHQgaW4gTFMyS19CTUNfSU5UX0lOVEVS
VkFMICovCj4gKwlpZiAodGltZV9hZnRlcihqaWZmaWVzLCBsYXN0X2ppZmZpZXMgKyBMUzJLX0JN
Q19JTlRfSU5URVJWQUwpKSB7Cj4gKwkJc2NoZWR1bGVfd29yaygmZGRhdGEtPmJtY19yZXNldF93
b3JrKTsKPiArCQlsYXN0X2ppZmZpZXMgPSBqaWZmaWVzOwo+ICsJfQo+ICsKPiArCXJldHVybiBJ
UlFfSEFORExFRDsKPiArfQo+ICsKPiArLyoKPiArICogU2F2ZXMgdGhlIEJNQyBwYXJlbnQgZGV2
aWNlIChMUzdBKSBhbmQgaXRzIG93biBQQ0kgY29uZmlndXJhdGlvbiBzcGFjZSByZWdpc3RlcnMK
PiArICogdGhhdCBuZWVkIHRvIGJlIHJlc3RvcmVkIGFmdGVyIEJNQyByZXNldC4KPiArICovCj4g
K3N0YXRpYyB2b2lkIGxzMmtfYm1jX3NhdmVfcGNpX2RhdGEoc3RydWN0IHBjaV9kZXYgKnBkZXYs
IHN0cnVjdCBsczJrX2JtY19wZGF0YSAqZGRhdGEpCj4gK3sKPiArCXN0cnVjdCBwY2lfZGV2ICpw
YXJlbnQgPSBwZGV2LT5idXMtPnNlbGY7Cj4gKwlpbnQgYmFzZSwgaSA9IDA7Cj4gKwo+ICsJcGNp
X3JlYWRfY29uZmlnX2R3b3JkKHBhcmVudCwgUENJX0NPTU1BTkQsICZkZGF0YS0+YnJpZGdlX3Bj
aV9kYXRhLnBjaV9jb21tYW5kKTsKPiArCj4gKwlmb3IgKGJhc2UgPSBQQ0lfQkFTRV9BRERSRVNT
XzA7IGJhc2UgPD0gUENJX0JBU0VfQUREUkVTU181OyBiYXNlICs9IDQsIGkrKykKPiArCQlwY2lf
cmVhZF9jb25maWdfZHdvcmQocGFyZW50LCBiYXNlLCAmZGRhdGEtPmJyaWRnZV9wY2lfZGF0YS5i
YXNlX2FkZHJlc3NbaV0pOwo+ICsKPiArCXBjaV9yZWFkX2NvbmZpZ19kd29yZChwYXJlbnQsIFBD
SV9ST01fQUREUkVTUywgJmRkYXRhLT5icmlkZ2VfcGNpX2RhdGEucm9tX2FkZHJlZXNzKTsKPiAr
CXBjaV9yZWFkX2NvbmZpZ19kd29yZChwYXJlbnQsIFBDSV9JTlRFUlJVUFRfTElORSwgJmRkYXRh
LT5icmlkZ2VfcGNpX2RhdGEuaW50ZXJydXB0X2xpbmUpOwo+ICsKPiArCXBjaV9yZWFkX2NvbmZp
Z19kd29yZChwYXJlbnQsIHBhcmVudC0+bXNpX2NhcCArIFBDSV9NU0lfQUREUkVTU19MTywKPiAr
CQkJICAgICAgJmRkYXRhLT5icmlkZ2VfcGNpX2RhdGEubXNpX2xvKTsKPiArCXBjaV9yZWFkX2Nv
bmZpZ19kd29yZChwYXJlbnQsIHBhcmVudC0+bXNpX2NhcCArIFBDSV9NU0lfQUREUkVTU19ISSwK
PiArCQkJICAgICAgJmRkYXRhLT5icmlkZ2VfcGNpX2RhdGEubXNpX2hpKTsKPiArCj4gKwlwY2lf
cmVhZF9jb25maWdfZHdvcmQocGFyZW50LCBwYXJlbnQtPnBjaWVfY2FwICsgUENJX0VYUF9ERVZD
VEwsCj4gKwkJCSAgICAgICZkZGF0YS0+YnJpZGdlX3BjaV9kYXRhLmRldmN0bCk7Cj4gKwlwY2lf
cmVhZF9jb25maWdfZHdvcmQocGFyZW50LCBwYXJlbnQtPnBjaWVfY2FwICsgUENJX0VYUF9MTktD
QVAsCj4gKwkJCSAgICAgICZkZGF0YS0+YnJpZGdlX3BjaV9kYXRhLmxpbmtjYXApOwo+ICsJcGNp
X3JlYWRfY29uZmlnX2R3b3JkKHBhcmVudCwgcGFyZW50LT5wY2llX2NhcCArIFBDSV9FWFBfTE5L
Q1RMLAo+ICsJCQkgICAgICAmZGRhdGEtPmJyaWRnZV9wY2lfZGF0YS5saW5rY3RsX3N0cyk7Cj4g
Kwo+ICsJcGNpX3JlYWRfY29uZmlnX2R3b3JkKHBhcmVudCwgTFM3QV9HRU4yX0NUTCwgJmRkYXRh
LT5icmlkZ2VfcGNpX2RhdGEuZ2VuMl9jdHJsKTsKPiArCWRkYXRhLT5icmlkZ2VfcGNpX2RhdGEu
Z2VuMl9jdHJsIHw9IEZJRUxEX1BSRVAoTFM3QV9HRU4yX1NQRUVEX0NIQU5HLCAweDEpCj4gKwkJ
CQkJfCBGSUVMRF9QUkVQKExTN0FfQ09ORl9QSFlfVFgsIDB4MCk7Cj4gKwo+ICsJcGNpX3JlYWRf
Y29uZmlnX2R3b3JkKHBhcmVudCwgTFM3QV9TWU1CT0xfVElNRVIsICZkZGF0YS0+YnJpZGdlX3Bj
aV9kYXRhLnN5bWJvbF90aW1lcik7Cj4gKwlkZGF0YS0+YnJpZGdlX3BjaV9kYXRhLnN5bWJvbF90
aW1lciB8PSBMUzdBX01BU0tfTEVOX01BVENIOwo+ICsKPiArCXBjaV9yZWFkX2NvbmZpZ19kd29y
ZChwZGV2LCBQQ0lfQ09NTUFORCwgJmRkYXRhLT5ibWNfcGNpX2RhdGEucGNpX2NvbW1hbmQpOwo+
ICsJcGNpX3JlYWRfY29uZmlnX2R3b3JkKHBkZXYsIFBDSV9CQVNFX0FERFJFU1NfMCwgJmRkYXRh
LT5ibWNfcGNpX2RhdGEuYmFzZV9hZGRyZXNzMCk7Cj4gKwlwY2lfcmVhZF9jb25maWdfZHdvcmQo
cGRldiwgUENJX0lOVEVSUlVQVF9MSU5FLCAmZGRhdGEtPmJtY19wY2lfZGF0YS5pbnRlcnJ1cHRf
bGluZSk7Cj4gK30KPiArCj4gK3N0YXRpYyBpbnQgbHMya19ibWNfcGRhdGFfaW5pdGlhbChzdHJ1
Y3QgbHMya19ibWNfcGRhdGEgKmRkYXRhKQoKV2hhdCBhcmUgeW91IGFjdHVhbGx5IGRvaW5nIGhl
cmUgZXhhY3RseS4KCkkgZG9uJ3QgdGhpbmsgInBkYXRhX2luaXRpYWwiIGRlc2NyaWJlcyBpdC4K
Cj4gK3sKPiArCXN0cnVjdCBwY2lfZGV2ICpwZGV2ID0gdG9fcGNpX2RldihkZGF0YS0+ZGV2KTsK
PiArCWludCBnc2kgPSAxNiArIChMUzJLX0JNQ19SRVNFVF9HUElPICYgNyk7CgpEZWZpbmUgMTYu
Cgo+ICsJdm9pZCBfX2lvbWVtICpncGlvX2Jhc2U7Cj4gKwlpbnQgaXJxLCByZXQsIHZhbDsKPiAr
Cj4gKwlsczJrX2JtY19zYXZlX3BjaV9kYXRhKHBkZXYsIGRkYXRhKTsKPiArCj4gKwlJTklUX1dP
UksoJmRkYXRhLT5ibWNfcmVzZXRfd29yaywgbHMya19ibWNfZXZlbnRzX2ZuKTsKPiArCj4gKwly
ZXQgPSBkZXZtX3JlcXVlc3RfaXJxKCZwZGV2LT5kZXYsIHBkZXYtPmlycSwgbHMya19ibWNfaW50
ZXJydXB0LAo+ICsJCQkgICAgICAgSVJRRl9TSEFSRUQgfCBJUlFGX1RSSUdHRVJfRkFMTElORywg
ImxzMmtibWMgcGNpZSIsIGRkYXRhKTsKPiArCWlmIChyZXQpIHsKPiArCQlkZXZfZXJyKGRkYXRh
LT5kZXYsICJGYWlsZWQgdG8gcmVxdWVzdCBMUzJLQk1DIFBDSS1FIElSUSAlZC5cbiIsIHBkZXYt
PmlycSk7Cj4gKwkJcmV0dXJuIHJldDsKPiArCX0KPiArCj4gKwkvKgo+ICsJICogU2luY2UgZ3Bp
b19jaGlwLT50b19pcnEgaXMgbm90IGltcGxlbWVudGVkIGluIHRoZSBMb29uZ3Nvbi0zIEdQSU8g
ZHJpdmVyLAo+ICsJICogYWNwaV9yZWdpc3Rlcl9nc2koKSBpcyB1c2VkIHRvIG9idGFpbiB0aGUg
R1BJTyBJUlEuIFRoZSBHUElPIGludGVycnVwdCBpcyBhCj4gKwkgKiB3YXRjaGRvZyBpbnRlcnJ1
cHQgdGhhdCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgQk1DIHJlc2V0cy4KPiArCSAqLwo+ICsJaXJx
ID0gYWNwaV9yZWdpc3Rlcl9nc2koTlVMTCwgZ3NpLCBBQ1BJX0VER0VfU0VOU0lUSVZFLCBBQ1BJ
X0FDVElWRV9MT1cpOwo+ICsJaWYgKGlycSA8IDApCj4gKwkJcmV0dXJuIGlycTsKPiArCj4gKwln
cGlvX2Jhc2UgPSBpb3JlbWFwKExPT05HU09OX0dQSU9fUkVHX0JBU0UsIExPT05HU09OX0dQSU9f
UkVHX1NJWkUpOwo+ICsJaWYgKCFncGlvX2Jhc2UpIHsKPiArCQlyZXQgPSAtRU5PTUVNOwo+ICsJ
CWdvdG8gYWNwaV9mYWlsZWQ7Cj4gKwl9Cj4gKwo+ICsJLyogRGlzYWJsZSBHUElPIG91dHB1dCAq
Lwo+ICsJdmFsID0gcmVhZGwoZ3Bpb19iYXNlICsgTE9PTkdTT05fR1BJT19PRU4pOwo+ICsJd3Jp
dGVsKHZhbCB8IEJJVChMUzJLX0JNQ19SRVNFVF9HUElPKSwgZ3Bpb19iYXNlICsgTE9PTkdTT05f
R1BJT19PRU4pOwo+ICsKPiArCS8qIEVuYWJsZSBHUElPIGZ1bmN0aW9uYWxpdHkgKi8KPiArCXZh
bCA9IHJlYWRsKGdwaW9fYmFzZSArIExPT05HU09OX0dQSU9fRlVOQyk7Cj4gKwl3cml0ZWwodmFs
ICYgfkJJVChMUzJLX0JNQ19SRVNFVF9HUElPKSwgZ3Bpb19iYXNlICsgTE9PTkdTT05fR1BJT19G
VU5DKTsKPiArCj4gKwkvKiBTZXQgR1BJTyBpbnRlcnJ1cHRzIHRvIGxvdy1sZXZlbCBhY3RpdmUg
Ki8KPiArCXZhbCA9IHJlYWRsKGdwaW9fYmFzZSArIExPT05HU09OX0dQSU9fSU5UUE9MKTsKPiAr
CXdyaXRlbCh2YWwgJiB+QklUKExTMktfQk1DX1JFU0VUX0dQSU8pLCBncGlvX2Jhc2UgKyBMT09O
R1NPTl9HUElPX0lOVFBPTCk7Cj4gKwo+ICsJLyogRW5hYmxlIEdQSU8gaW50ZXJydXB0cyAqLwo+
ICsJdmFsID0gcmVhZGwoZ3Bpb19iYXNlICsgTE9PTkdTT05fR1BJT19JTlRFTik7Cj4gKwl3cml0
ZWwodmFsIHwgQklUKExTMktfQk1DX1JFU0VUX0dQSU8pLCBncGlvX2Jhc2UgKyBMT09OR1NPTl9H
UElPX0lOVEVOKTsKPiArCj4gKwlyZXQgPSBkZXZtX3JlcXVlc3RfaXJxKGRkYXRhLT5kZXYsIGly
cSwgbHMya19ibWNfaW50ZXJydXB0LAo+ICsJCQkgICAgICAgSVJRRl9TSEFSRUQgfCBJUlFGX1RS
SUdHRVJfRkFMTElORywgImxzMmtibWMgZ3BpbyIsIGRkYXRhKTsKPiArCWlmIChyZXQpCj4gKwkJ
ZGV2X2VycihkZGF0YS0+ZGV2LCAiRmFpbGVkIHRvIHJlcXVlc3QgTFMyS0JNQyBHUElPIElSUSAl
ZC5cbiIsIGlycSk7Cj4gKwo+ICsJaW91bm1hcChncGlvX2Jhc2UpOwo+ICsKPiArYWNwaV9mYWls
ZWQ6Cj4gKwlhY3BpX3VucmVnaXN0ZXJfZ3NpKGdzaSk7Cj4gKwlyZXR1cm4gcmV0Owo+ICt9Cj4g
Kwo+ICAvKgo+ICAgKiBDdXJyZW50bHkgdGhlIExvb25nc29uLTJLIEJNQyBoYXJkd2FyZSBkb2Vz
IG5vdCBoYXZlIGFuIEkyQyBpbnRlcmZhY2UgdG8gYWRhcHQgdG8gdGhlCj4gICAqIHJlc29sdXRp
b24uIFdlIHNldCB0aGUgcmVzb2x1dGlvbiBieSBwcmVzZXR0aW5nICJ2aWRlbz0xMjgweDEwMjQt
MTZAMk0iIHRvIHRoZSBCTUMgbWVtb3J5Lgo+IEBAIC0xMzQsNiArNDU3LDcgQEAgc3RhdGljIGlu
dCBsczJrX2JtY19wYXJzZV9tb2RlKHN0cnVjdCBwY2lfZGV2ICpwZGV2LCBzdHJ1Y3Qgc2ltcGxl
ZmJfcGxhdGZvcm1fZGEKPiAgc3RhdGljIGludCBsczJrX2JtY19wcm9iZShzdHJ1Y3QgcGNpX2Rl
diAqZGV2LCBjb25zdCBzdHJ1Y3QgcGNpX2RldmljZV9pZCAqaWQpCj4gIHsKPiAgCXN0cnVjdCBz
aW1wbGVmYl9wbGF0Zm9ybV9kYXRhIHBkOwo+ICsJc3RydWN0IGxzMmtfYm1jX3BkYXRhICpkZGF0
YTsKPiAgCXJlc291cmNlX3NpemVfdCBiYXNlOwo+ICAJaW50IHJldDsKPiAgCj4gQEAgLTE0MSw2
ICs0NjUsMTggQEAgc3RhdGljIGludCBsczJrX2JtY19wcm9iZShzdHJ1Y3QgcGNpX2RldiAqZGV2
LCBjb25zdCBzdHJ1Y3QgcGNpX2RldmljZV9pZCAqaWQpCj4gIAlpZiAocmV0KQo+ICAJCXJldHVy
biByZXQ7Cj4gIAo+ICsJZGRhdGEgPSBkZXZtX2t6YWxsb2MoJmRldi0+ZGV2LCBzaXplb2YoKmRk
YXRhKSwgR0ZQX0tFUk5FTCk7Cj4gKwlpZiAoSVNfRVJSKGRkYXRhKSkgewo+ICsJCXJldCA9IC1F
Tk9NRU07Cj4gKwkJZ290byBkaXNhYmxlX3BjaTsKPiArCX0KPiArCj4gKwlkZGF0YS0+ZGV2ID0g
JmRldi0+ZGV2Owo+ICsKPiArCXJldCA9IGxzMmtfYm1jX3BkYXRhX2luaXRpYWwoZGRhdGEpOwo+
ICsJaWYgKHJldCkKPiArCQlnb3RvIGRpc2FibGVfcGNpOwo+ICsKPiAgCXJldCA9IGxzMmtfYm1j
X3BhcnNlX21vZGUoZGV2LCAmcGQpOwo+ICAJaWYgKHJldCkKPiAgCQlnb3RvIGRpc2FibGVfcGNp
Owo+IC0tIAo+IDIuNDcuMwo+IAoKLS0gCkxlZSBKb25lcyBb5p2O55C85pavXQoKCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCk9wZW5pcG1pLWRldmVsb3Bl
ciBtYWlsaW5nIGxpc3QKT3BlbmlwbWktZGV2ZWxvcGVyQGxpc3RzLnNvdXJjZWZvcmdlLm5ldApo
dHRwczovL2xpc3RzLnNvdXJjZWZvcmdlLm5ldC9saXN0cy9saXN0aW5mby9vcGVuaXBtaS1kZXZl
bG9wZXIK
