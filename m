Return-Path: <openipmi-developer-bounces@lists.sourceforge.net>
X-Original-To: lists+openipmi-developer@lfdr.de
Delivered-To: lists+openipmi-developer@lfdr.de
Received: from lists.sourceforge.net (lists.sourceforge.net [216.105.38.7])
	by mail.lfdr.de (Postfix) with ESMTPS id CFB30AC08E0
	for <lists+openipmi-developer@lfdr.de>; Thu, 22 May 2025 11:39:47 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=lists.sourceforge.net; s=beta; h=Content-Transfer-Encoding:Content-Type:Cc:
	Reply-To:From:List-Subscribe:List-Help:List-Post:List-Archive:
	List-Unsubscribe:List-Id:Subject:In-Reply-To:MIME-Version:References:
	Message-ID:To:Date:Sender:Content-ID:Content-Description:Resent-Date:
	Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:List-Owner;
	bh=m2/LzZG74W/lo+PLzUwbG6M9WbXNdJ3/W8cOzWk5L90=; b=aFQ3dHjVdVhIsT7PtUsyg4NWcq
	2DtzlP5ekzEeMAtOwmzMXpo3wHLg9B5T2aotKyobF8GYhbEXitkBPq57hgtUFWPAVotHBe7zUy65H
	ZWUPdZ0bT6johucZJNaxEkaYvGnAkqmGzhh6WInWb5Fudbw3CYLp34Du35RPw93Z9JD0=;
Received: from [127.0.0.1] (helo=sfs-ml-2.v29.lw.sourceforge.com)
	by sfs-ml-2.v29.lw.sourceforge.com with esmtp (Exim 4.95)
	(envelope-from <openipmi-developer-bounces@lists.sourceforge.net>)
	id 1uI2Oo-0004mN-Kz;
	Thu, 22 May 2025 09:39:38 +0000
Received: from [172.30.29.66] (helo=mx.sourceforge.net)
 by sfs-ml-2.v29.lw.sourceforge.com with esmtps (TLS1.2) tls
 TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (Exim 4.95)
 (envelope-from <lee@kernel.org>) id 1uI2Om-0004m4-GT
 for openipmi-developer@lists.sourceforge.net;
 Thu, 22 May 2025 09:39:36 +0000
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
 d=sourceforge.net; s=x; h=In-Reply-To:Content-Transfer-Encoding:Content-Type:
 MIME-Version:References:Message-ID:Subject:Cc:To:From:Date:Sender:Reply-To:
 Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:
 Resent-To:Resent-Cc:Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:
 List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=I9yFwTPGWaKCWRJhKPPC/y62luzyjtDqYBkTtI2M/fA=; b=HI26RyPOZHgk2gs4PNaCreVyoC
 OcZpIMWCqjvCUhwtnGCcts1cNc4l/P5UwLf0R1Z3j3tYVpGDY1LpS6KkuwX0BBb+5ShlT/8n1WFRN
 2wyL570wygkVYQnLwahlIhA7hkF+JaUbBmblwUciXMonIM+Q1jKnrVu0gtro6w336mqg=;
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=sf.net; s=x
 ;
 h=In-Reply-To:Content-Transfer-Encoding:Content-Type:MIME-Version:
 References:Message-ID:Subject:Cc:To:From:Date:Sender:Reply-To:Content-ID:
 Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc
 :Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:List-Subscribe:
 List-Post:List-Owner:List-Archive;
 bh=I9yFwTPGWaKCWRJhKPPC/y62luzyjtDqYBkTtI2M/fA=; b=S23G1A9lj3anSR9gKGlsSwiag/
 0SSvNphrzxcAuXCp834iNJl4l/IHbTH7Au3B76z5qPAHsRleiQ5/pZ4tPkkr2cV1CWHmyjC80+g1l
 K8btiXTNl1B5bIXiDK+lb/r46/V6X6Dno3Cvlx/sq+VT1ozNzqSZixT8823SalAC8xq0=;
Received: from tor.source.kernel.org ([172.105.4.254])
 by sfi-mx-2.v28.lw.sourceforge.com with esmtps
 (TLS1.2:ECDHE-RSA-AES256-GCM-SHA384:256) (Exim 4.95)
 id 1uI2Ol-0002z5-7p for openipmi-developer@lists.sourceforge.net;
 Thu, 22 May 2025 09:39:36 +0000
Received: from smtp.kernel.org (transwarp.subspace.kernel.org [100.75.92.58])
 by tor.source.kernel.org (Postfix) with ESMTP id 3DD7162A11;
 Thu, 22 May 2025 09:39:24 +0000 (UTC)
Received: by smtp.kernel.org (Postfix) with ESMTPSA id E2542C4CEE4;
 Thu, 22 May 2025 09:39:21 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=k20201202; t=1747906763;
 bh=XkUZaXEuPJjOE4XtfYmseHhoW1SLXX358nT2uRh33e8=;
 h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
 b=IHXobV7YpmPmy46EYlhTqrWdgTfepm5NctySwrSYD86AusvWhOcKaXJOjIc51xffe
 HAMWAF6gpAYuRrioR9gyLMmDXCWEbWzeigKtb4hgK5mhidhrAm6p6aon/PL4x3xvJJ
 unLUadQqDkoC8TDSrfFRqv9OxEs2E9C7TjipTuP3tSc65RZ7RMfO7FVs78u57jK3yl
 04uQ5L28oNXiiE+olO2kQ2dlwZgbNBamWBjEkocOFiKQP7ooqrj/g54Pk+agMw3cj5
 dkfUiH/Xk+f/4p8vBk1rQasMjKSz/H6VYekyZ3oh/mSIEFZul6K2d9scXpH03emvF0
 9qcVE9iZoz8iA==
Date: Thu, 22 May 2025 10:39:19 +0100
To: Binbin Zhou <zhoubinbin@loongson.cn>
Message-ID: <20250522093919.GC1199143@google.com>
References: <cover.1747276047.git.zhoubinbin@loongson.cn>
 <eff0c02e30118c45463f4b6488c895bf3ec9edb9.1747276047.git.zhoubinbin@loongson.cn>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <eff0c02e30118c45463f4b6488c895bf3ec9edb9.1747276047.git.zhoubinbin@loongson.cn>
X-Spam-Score: -0.5 (/)
X-Spam-Report: Spam detection software,
 running on the system "util-spamd-1.v13.lw.sourceforge.com", 
 has NOT identified this incoming email as spam.  The original
 message has been attached to this so you can view it or label
 similar future email.  If you have any questions, see
 the administrator of that system for details.
 Content preview:  On Thu, 15 May 2025, Binbin Zhou wrote: > Since the display
 is a sub-function of the Loongson-2K BMC, when the > BMC reset, the entire
 BMC PCIe is disconnected, including the display > which is interrupted. >
 > Not only do you need to save/ [...] 
 Content analysis details:   (-0.5 points, 6.0 required)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -0.0 SPF_PASS               SPF: sender matches SPF record
 0.0 SPF_HELO_NONE          SPF: HELO does not publish an SPF Record
 0.0 RCVD_IN_VALIDITY_RPBL_BLOCKED RBL: ADMINISTRATOR NOTICE: The
 query to Validity was blocked.  See
 https://knowledge.validity.com/hc/en-us/articles/20961730681243
 for more information.
 [172.105.4.254 listed in bl.score.senderscore.com]
 0.0 RCVD_IN_VALIDITY_SAFE_BLOCKED RBL: ADMINISTRATOR NOTICE: The
 query to Validity was blocked.  See
 https://knowledge.validity.com/hc/en-us/articles/20961730681243
 for more information.
 [172.105.4.254 listed in sa-trusted.bondedsender.org]
 0.1 DKIM_SIGNED            Message has a DKIM or DK signature, not necessarily
 valid
 -0.1 DKIM_VALID_EF          Message has a valid DKIM or DK signature from
 envelope-from domain
 -0.1 DKIM_VALID Message has at least one valid DKIM or DK signature
 -0.1 DKIM_VALID_AU          Message has a valid DKIM or DK signature from
 author's domain
 -0.3 DKIMWL_WL_HIGH         DKIMwl.org - High trust sender
X-Headers-End: 1uI2Ol-0002z5-7p
Subject: Re: [Openipmi-developer] [PATCH v2 3/3] mfd: ls2kbmc: Add
 Loongson-2K BMC reset function support
X-BeenThere: openipmi-developer@lists.sourceforge.net
X-Mailman-Version: 2.1.21
Precedence: list
List-Id: Developer list of OpenIPMI library and Linux driver
 <openipmi-developer.lists.sourceforge.net>
List-Unsubscribe: <https://lists.sourceforge.net/lists/options/openipmi-developer>, 
 <mailto:openipmi-developer-request@lists.sourceforge.net?subject=unsubscribe>
List-Archive: <http://sourceforge.net/mailarchive/forum.php?forum_name=openipmi-developer>
List-Post: <mailto:openipmi-developer@lists.sourceforge.net>
List-Help: <mailto:openipmi-developer-request@lists.sourceforge.net?subject=help>
List-Subscribe: <https://lists.sourceforge.net/lists/listinfo/openipmi-developer>, 
 <mailto:openipmi-developer-request@lists.sourceforge.net?subject=subscribe>
From: Lee Jones via Openipmi-developer
 <openipmi-developer@lists.sourceforge.net>
Reply-To: Lee Jones <lee@kernel.org>
Cc: Chong Qiao <qiaochong@loongson.cn>, Corey Minyard <minyard@acm.org>,
 Binbin Zhou <zhoubb.aaron@gmail.com>, Huacai Chen <chenhuacai@kernel.org>,
 linux-kernel@vger.kernel.org, loongarch@lists.linux.dev,
 Xuerui Wang <kernel@xen0n.name>, openipmi-developer@lists.sourceforge.net,
 Huacai Chen <chenhuacai@loongson.cn>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: openipmi-developer-bounces@lists.sourceforge.net

T24gVGh1LCAxNSBNYXkgMjAyNSwgQmluYmluIFpob3Ugd3JvdGU6Cgo+IFNpbmNlIHRoZSBkaXNw
bGF5IGlzIGEgc3ViLWZ1bmN0aW9uIG9mIHRoZSBMb29uZ3Nvbi0ySyBCTUMsIHdoZW4gdGhlCj4g
Qk1DIHJlc2V0LCB0aGUgZW50aXJlIEJNQyBQQ0llIGlzIGRpc2Nvbm5lY3RlZCwgaW5jbHVkaW5n
IHRoZSBkaXNwbGF5Cj4gd2hpY2ggaXMgaW50ZXJydXB0ZWQuCj4gCj4gTm90IG9ubHkgZG8geW91
IG5lZWQgdG8gc2F2ZS9yZXN0b3JlIHRoZSByZWxldmFudCBQQ0llIHJlZ2lzdGVycwo+IHRocm91
Z2hvdXQgdGhlIHJlc2V0IHByb2Nlc3MsIGJ1dCB5b3UgYWxzbyBuZWVkIHRvIHJlLXB1c2ggdGhl
IGRpc3BsYXkKPiB0byB0aGUgbW9uaXRvciBhdCB0aGUgZW5kLgo+IAo+IENvLWRldmVsb3BlZC1i
eTogQ2hvbmcgUWlhbyA8cWlhb2Nob25nQGxvb25nc29uLmNuPgo+IFNpZ25lZC1vZmYtYnk6IENo
b25nIFFpYW8gPHFpYW9jaG9uZ0Bsb29uZ3Nvbi5jbj4KPiBTaWduZWQtb2ZmLWJ5OiBCaW5iaW4g
WmhvdSA8emhvdWJpbmJpbkBsb29uZ3Nvbi5jbj4KPiAtLS0KPiAgZHJpdmVycy9tZmQvbHMya2Jt
Yy1tZmQuYyB8IDI0MiArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwo+ICAx
IGZpbGUgY2hhbmdlZCwgMjQyIGluc2VydGlvbnMoKykKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9tZmQvbHMya2JtYy1tZmQuYyBiL2RyaXZlcnMvbWZkL2xzMmtibWMtbWZkLmMKPiBpbmRleCBi
MzA5ZjYxMzJjMjQuLjRkMzVhMTNiM2RhNSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL21mZC9sczJr
Ym1jLW1mZC5jCj4gKysrIGIvZHJpdmVycy9tZmQvbHMya2JtYy1tZmQuYwo+IEBAIC05LDggKzks
MTEgQEAKPiAgICovCj4gIAo+ICAjaW5jbHVkZSA8bGludXgvYXBlcnR1cmUuaD4KPiArI2luY2x1
ZGUgPGxpbnV4L2RlbGF5Lmg+Cj4gICNpbmNsdWRlIDxsaW51eC9lcnJuby5oPgo+ICAjaW5jbHVk
ZSA8bGludXgvaW5pdC5oPgo+ICsjaW5jbHVkZSA8bGludXgvaW9wb2xsLmg+Cj4gKyNpbmNsdWRl
IDxsaW51eC9rYmRfa2Vybi5oPgo+ICAjaW5jbHVkZSA8bGludXgva2VybmVsLmg+Cj4gICNpbmNs
dWRlIDxsaW51eC9tZmQvY29yZS5oPgo+ICAjaW5jbHVkZSA8bGludXgvbW9kdWxlLmg+Cj4gQEAg
LTE4LDYgKzIxLDggQEAKPiAgI2luY2x1ZGUgPGxpbnV4L3BjaV9pZHMuaD4KPiAgI2luY2x1ZGUg
PGxpbnV4L3BsYXRmb3JtX2RhdGEvc2ltcGxlZmIuaD4KPiAgI2luY2x1ZGUgPGxpbnV4L3BsYXRm
b3JtX2RldmljZS5oPgo+ICsjaW5jbHVkZSA8bGludXgvc3RvcF9tYWNoaW5lLmg+Cj4gKyNpbmNs
dWRlIDxsaW51eC92dF9rZXJuLmg+Cj4gIAo+ICAjZGVmaW5lIExTMktfRElTUExBWV9SRVNfU1RB
UlQgKFNaXzE2TSArIFNaXzJNKQo+ICAjZGVmaW5lIExTMktfSVBNSV9SRVNfU0laRQkweDFjCj4g
QEAgLTI3LDYgKzMyLDkgQEAKPiAgI2RlZmluZSBMUzJLX0lQTUkzX1JFU19TVEFSVAkoTFMyS19J
UE1JMl9SRVNfU1RBUlQgKyBMUzJLX0lQTUlfUkVTX1NJWkUpCj4gICNkZWZpbmUgTFMyS19JUE1J
NF9SRVNfU1RBUlQJKExTMktfSVBNSTNfUkVTX1NUQVJUICsgTFMyS19JUE1JX1JFU19TSVpFKQo+
ICAKPiArI2RlZmluZSBMUzJLX0JNQ19SRVNFVF9ERUxBWQkoNjAgKiBIWikKPiArI2RlZmluZSBM
UzJLX0JNQ19SRVNFVF9XQUlUCSgxMCAqIEhaKQo+ICsKPiAgc3RhdGljIHN0cnVjdCByZXNvdXJj
ZSBsczJrX2Rpc3BsYXlfcmVzb3VyY2VzW10gPSB7Cj4gIAlERUZJTkVfUkVTX01FTV9OQU1FRChM
UzJLX0RJU1BMQVlfUkVTX1NUQVJULCBTWl80TSwgInNpbXBsZWRybS1yZXMiKSwKPiAgfTsKPiBA
QCAtNjAsNiArNjgsMjI3IEBAIHN0YXRpYyBzdHJ1Y3QgbWZkX2NlbGwgbHMya19ibWNfY2VsbHNb
XSA9IHsKPiAgCU1GRF9DRUxMX1JFUygibHMyay1pcG1pLXNpIiwgbHMya19pcG1pNF9yZXNvdXJj
ZXMpLAo+ICB9Owo+ICAKPiArc3RhdGljIGNvbnN0IHUzMiBpbmRleFtdID0geyAweDQsIDB4MTAs
IDB4MTQsIDB4MTgsIDB4MWMsIDB4MjAsIDB4MjQsCj4gKwkJCSAgICAgMHgzMCwgMHgzYywgMHg1
NCwgMHg1OCwgMHg3OCwgMHg3YywgMHg4MCB9Owo+ICtzdGF0aWMgY29uc3QgdTMyIGNpbmRleFtd
ID0geyAweDQsIDB4MTAsIDB4M2MgfTsKCldoYXQgYXJlIHRoZXNlPyAgWW91IG5lZWQgdG8gZGVm
aW5lIHRoZW0gb3IgYXQgbGVhc3QgcHJvdmlkZSBhIGNvbW1lbnQKdGhhdCBkZXNjcmliZXMgd2hh
dCB0aGV5IGFyZSBhbmQgaG93IHRoZXkncmUgdXNlZC4KCj4gK3N0cnVjdCBsczJrX2JtY19wY2lf
ZGF0YSB7Cj4gKwl1MzIgZDgwYzsKPiArCXUzMiBkNzFjOwo+ICsJdTMyIGRhdGFbMTRdOwo+ICsJ
dTMyIGNkYXRhWzNdOwoKVG8gdGhlIHVuaW5pdGlhdGVkLCB0aGlzIGlzIGFsbCBnaWJiZXJpc2gu
CgpFaXRoZXIgY2hhbmdlIHRoZSBub21lbmNsYXR1cmUgb3IgcHJvdmlkZSBjb21tZW50YXJ5LgoK
PiArfTsKPiArCj4gK3N0cnVjdCBsczJrX2JtY19wZGF0YSB7Cj4gKwlzdHJ1Y3QgZGV2aWNlICpk
ZXY7Cj4gKwlzdHJ1Y3Qgd29ya19zdHJ1Y3QgcmVzZXRfd29yazsKPiArCXVuc2lnbmVkIGxvbmcg
cmVzZXRfdGltZTsKClRoaXMgYWx3YXlzIGFwcGVhcnMgdG8gYmUgamlmZmllcyAtIGlzIGl0IHVz
ZWQgZWxzZXdoZXJlPwoKPiArCXN0cnVjdCBsczJrX2JtY19wY2lfZGF0YSBwY2lfZGF0YTsKPiAr
fTsKPiArCj4gK3N0YXRpYyBib29sIGxzMmtfYm1jX2JhcjBfYWRkcl9pc19zZXQoc3RydWN0IHBj
aV9kZXYgKnBwZGV2KQo+ICt7Cj4gKwl1MzIgYWRkcjsKPiArCj4gKwlwY2lfcmVhZF9jb25maWdf
ZHdvcmQocHBkZXYsIFBDSV9CQVNFX0FERFJFU1NfMCwgJmFkZHIpOwo+ICsJYWRkciAmPSBQQ0lf
QkFTRV9BRERSRVNTX01FTV9NQVNLOwo+ICsKPiArCXJldHVybiBhZGRyID8gdHJ1ZSA6IGZhbHNl
Owo+ICt9Cj4gKwo+ICtzdGF0aWMgYm9vbCBsczJrX2JtY19jaGVja19wY2llX2Nvbm5lY3RlZChz
dHJ1Y3QgcGNpX2RldiAqcGFyZW50LAo+ICsJCQkJCSAgc3RydWN0IGxzMmtfYm1jX3BkYXRhICpw
cml2KQo+ICt7Cj4gKwl2b2lkIF9faW9tZW0gKm1taW87Cj4gKwlpbnQgc3RzLCByZXQ7Cj4gKwo+
ICsJbW1pbyA9IHBjaV9pb21hcChwYXJlbnQsIDAsIDB4MTAwKTsKCldoeSAweDEwMD8gIFRoaXMg
c2hvdWxkIGJlIGRlZmluZWQuCgo+ICsJaWYgKCFtbWlvKQo+ICsJCXJldHVybiBmYWxzZTsKPiAr
Cj4gKwl3cml0ZWwocmVhZGwobW1pbykgfCAweDgsIG1taW8pOwo+ICsKPiArCXJldCA9IHJlYWRs
X3BvbGxfdGltZW91dF9hdG9taWMobW1pbyArIDB4Yywgc3RzLCAoc3RzICYgMHgxMSkgPT0gMHgx
MSwKPiArCQkJCQkxMDAwLCAxMDAwMDAwKTsKPiArCWlmIChyZXQpIHsKCkFsbCBvZiB0aGUgbWFn
aWMgbnVtYmVycyBpbiB0aGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBkZWZpbmVkLgoKPiArCQlwY2lf
aW91bm1hcChwYXJlbnQsIG1taW8pOwo+ICsJCWRldl9lcnIocHJpdi0+ZGV2LCAiUENJRSB0cmFp
biBmYWlsZWQgc3RhdHVzPTB4JXhcbiIsIHN0cyk7Cj4gKwkJcmV0dXJuIGZhbHNlOwo+ICsJfQo+
ICsKPiArCXBjaV9pb3VubWFwKHBhcmVudCwgbW1pbyk7Cj4gKwlyZXR1cm4gdHJ1ZTsKPiArfQo+
ICsKPiArc3RhdGljIGludCBsczJrX2JtY19yZWNvdmVyX3BjaV9kYXRhKHZvaWQgKmRhdGEpCj4g
K3sKPiArCXN0cnVjdCBsczJrX2JtY19wZGF0YSAqcHJpdiA9IGRhdGE7Cj4gKwlzdHJ1Y3QgcGNp
X2RldiAqcGRldiA9IHRvX3BjaV9kZXYocHJpdi0+ZGV2KTsKPiArCXN0cnVjdCBwY2lfZGV2ICpw
YXJlbnQgPSBwZGV2LT5idXMtPnNlbGY7Cj4gKwlib29sIHJlYWR5LCBkaXJ0eTsKPiArCXUzMiBp
Owo+ICsKPiArCXBjaV93cml0ZV9jb25maWdfZHdvcmQocGFyZW50LCBQQ0lfQkFTRV9BRERSRVNT
XzIsIDApOwo+ICsJcGNpX3dyaXRlX2NvbmZpZ19kd29yZChwYXJlbnQsIFBDSV9CQVNFX0FERFJF
U1NfMywgMCk7Cj4gKwlwY2lfd3JpdGVfY29uZmlnX2R3b3JkKHBhcmVudCwgUENJX0JBU0VfQURE
UkVTU180LCAwKTsKCllvdSBuZWVkIHRvIHByb3ZpZGUgY29tbWVudGFyeSB0aHJvdWdob3V0IHRo
aXMgZHJpdmVyIQoKPiArCj4gKwlmb3IgKGkgPSAyMDAwOyBpID4gMCA7IGktLSkgewoKV2h5IDIw
MDA/ICBQbGVhc2UgZGVmaW5lIGFuZCBleHBsYWluIGl0LgoKPiArCQlkaXJ0eSA9IGxzMmtfYm1j
X2JhcjBfYWRkcl9pc19zZXQocGFyZW50KTsKClNpbmNlIHRoZXNlIGFyZSBib29scywgeW91IGNh
biBwdXQgdGhlIGZ1bmN0aW9uIGluIGFuIGlmKCkgc3RhdGVtZW50LgoKPiArCQlpZiAoIWRpcnR5
KQo+ICsJCQlicmVhazsKPiArCQltZGVsYXkoMSk7CgpXaHk/ICBXaGF0IGFyZSB3ZSB3YWl0aW5n
IGZvcj8KCj4gKwl9Owo+ICsKPiArCWlmIChpID09IDApCj4gKwkJZGV2X3dhcm4ocHJpdi0+ZGV2
LCAiVGhlIFBDSSBCYXIgaXMgbm90IGNsZWFyZWQuXG4iKTsKCkJ1dCBpdCdzIG9rYXkgdG8gY29u
dGludWU/ICBXaHk/Cgo+ICsJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoaW5kZXgpOyBpKysp
Cj4gKwkJcGNpX3dyaXRlX2NvbmZpZ19kd29yZChwYXJlbnQsIGluZGV4W2ldLCBwcml2LT5wY2lf
ZGF0YS5kYXRhW2ldKTsKPiArCj4gKwlwY2lfd3JpdGVfY29uZmlnX2R3b3JkKHBhcmVudCwgMHg4
MGMsIHByaXYtPnBjaV9kYXRhLmQ4MGMpOwo+ICsJcGNpX3dyaXRlX2NvbmZpZ19kd29yZChwYXJl
bnQsIDB4NzFjLCBwcml2LT5wY2lfZGF0YS5kNzFjKTsKPiArCj4gKwkvKiBDaGVjayBpZiB0aGUg
cGNpZSBpcyBjb25uZWN0ZWQgKi8KClBDSS1FCgo+ICsJcmVhZHkgPSBsczJrX2JtY19jaGVja19w
Y2llX2Nvbm5lY3RlZChwYXJlbnQsIHByaXYpOwoKQXMgYWJvdmUuCgo+ICsJaWYgKCFyZWFkeSkK
PiArCQlyZXR1cm4gcmVhZHk7Cj4gKwo+ICsJZGV2X2RiZyhwcml2LT5kZXYsICJUaGUgUENJRSBy
ZWNvdmVyZWQgZG9uZS5cbiIpOwoKSG93IHVzZWZ1bCBpcyB0aGlzIG9uY2UgZGV2ZWxvcG1lbnQg
aXMgY29tcGxldGU/Cgo+ICsJLyogV2FpdGluZyBmb3IgdS1ib290IGRkciBjb25maWcgcmVhZHkg
Ki8KCldpbGwgaXQgYWx3YXlzIGJlIFUtQm9vdD8KClNob3VsZCBiZSAiVS1Cb290IiBhbmQgIkRE
UiIuCgo+ICsJbWRlbGF5KGppZmZpZXNfdG9fbXNlY3MoTFMyS19CTUNfUkVTRVRfV0FJVCkpOwoK
V2h5IG5vdCBkZWZpbmUgdGhlIHZhbHVlIGluIG1zIGFscmVhZHk/Cgo+ICsJcmVhZHkgPSBsczJr
X2JtY19iYXIwX2FkZHJfaXNfc2V0KHBhcmVudCk7CgpBcyBhYm92ZS4KCj4gKwlpZiAoIXJlYWR5
KQo+ICsJCXJldHVybiByZWFkeTsKPiArCj4gKwlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0laRShj
aW5kZXgpOyBpKyspCj4gKwkJcGNpX3dyaXRlX2NvbmZpZ19kd29yZChwZGV2LCBjaW5kZXhbaV0s
IHByaXYtPnBjaV9kYXRhLmNkYXRhW2ldKTsKPiArCj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiAr
c3RhdGljIHZvaWQgbHMya19ibWNfZXZlbnRzX2ZuKHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yaykK
PiArewo+ICsJc3RydWN0IGxzMmtfYm1jX3BkYXRhICpwcml2ID0gY29udGFpbmVyX29mKHdvcmss
IHN0cnVjdCBsczJrX2JtY19wZGF0YSwgcmVzZXRfd29yayk7Cj4gKwo+ICsJLyoKPiArCSAqIFRo
ZSBwY2llIGlzIGxvc3Qgd2hlbiB0aGUgQk1DIHJlc2V0cywKClN0cmFuZ2UgbGluZS1icmVha3Mu
ICBQaWNrIGEgbGltaXQgKDgwLTEwMCwgZXRjKSBhbmQgc3RpY2sgdG8gaXQuCgo+ICsJICogYXQg
d2hpY2ggcG9pbnQgYWNjZXNzIHRvIHRoZSBwY2llIGZyb20gb3RoZXIgQ1BVcwo+ICsJICogaXMg
c3VzcGVuZGVkIHRvIHByZXZlbnQgYSBjcmFzaC4KPiArCSAqLwo+ICsJc3RvcF9tYWNoaW5lKGxz
MmtfYm1jX3JlY292ZXJfcGNpX2RhdGEsIHByaXYsIE5VTEwpOwo+ICsKPiArI2lmZGVmIENPTkZJ
R19WVAoKTm8gYXZvaWRhYmxlICNpZmVyeSBpbiBDLWZpbGVzIHBsZWFzZS4KCj4gKwkvKiBSZS1w
dXNoIHRoZSBkaXNwbGF5IGR1ZSB0byBwcmV2aW91cyBwY2llIGxvc3MuICovCj4gKwlzZXRfY29u
c29sZSh2dF9tb3ZlX3RvX2NvbnNvbGUoTUFYX05SX0NPTlNPTEVTIC0gMSwgMSkpOwo+ICsjZW5k
aWYKPiArCj4gKwlkZXZfaW5mbyhwcml2LT5kZXYsICJMb29uZ3Nvbi0ySyBCTUMgcmVjb3ZlcmVk
IGRvbmUuXG4iKTsKClJlbW92ZSB0aGlzIGxpbmUgLSB3ZSB3YW50IGNsZWFuIGJvb3Rsb2dzLgoK
PiArfQo+ICsKPiArc3RhdGljIGlycXJldHVybl90IGxzMmtfYm1jX2ludGVycnVwdChpbnQgaXJx
LCB2b2lkICphcmcpCj4gK3sKPiArCXN0cnVjdCBsczJrX2JtY19wZGF0YSAqcHJpdiA9IGFyZzsK
PiArCj4gKwlpZiAoc3lzdGVtX3N0YXRlICE9IFNZU1RFTV9SVU5OSU5HKQo+ICsJCXJldHVybiBJ
UlFfSEFORExFRDsKPiArCj4gKwkvKiBTa2lwIGludGVycnVwdCBpbiBMUzJLX0JNQ19SRVNFVF9E
RUxBWSAqLwo+ICsJaWYgKHRpbWVfYWZ0ZXIoamlmZmllcywgcHJpdi0+cmVzZXRfdGltZSArIExT
MktfQk1DX1JFU0VUX0RFTEFZKSkKPiArCQlzY2hlZHVsZV93b3JrKCZwcml2LT5yZXNldF93b3Jr
KTsKPiArCj4gKwlwcml2LT5yZXNldF90aW1lID0gamlmZmllczsKPiArCj4gKwlyZXR1cm4gSVJR
X0hBTkRMRUQ7Cj4gK30KPiArCj4gKyNkZWZpbmUgQk1DX1JFU0VUX0dQSU8JCQkxNAo+ICsjZGVm
aW5lIExPT05HU09OX0dQSU9fUkVHX0JBU0UJCTB4MWZlMDA1MDAKPiArI2RlZmluZSBMT09OR1NP
Tl9HUElPX1JFR19TSVpFCQkweDE4Cj4gKyNkZWZpbmUgTE9PTkdTT05fR1BJT19PRU4JCTB4MAo+
ICsjZGVmaW5lIExPT05HU09OX0dQSU9fRlVOQwkJMHg0Cj4gKyNkZWZpbmUgTE9PTkdTT05fR1BJ
T19JTlRQT0wJCTB4MTAKPiArI2RlZmluZSBMT09OR1NPTl9HUElPX0lOVEVOCQkweDE0CgpQdXQg
dGhlc2UgdXAgd2l0aCB0aGUgcmVzZXQgb2YgdGhlIGRlZmluZXMuCgo+ICsvKiBUaGUgZ3BpbyBp
bnRlcnJ1cHQgaXMgYSB3YXRjaGRvZyBpbnRlcnJ1cHQgdGhhdCBpcyB0cmlnZ2VyZWQgd2hlbiB0
aGUgQk1DIHJlc2V0cy4gKi8KPiArc3RhdGljIGludCBsczJrX2JtY19ncGlvX3Jlc2V0X2hhbmRs
ZXIoc3RydWN0IGxzMmtfYm1jX3BkYXRhICpwcml2KQoKV2h5IGFyZSB3ZSBub3cgZG9pbmcgR1BJ
TyB0aGluZ3MgaW4gaGVyZT8gIFdoeSBub3QgYSBHUElPIGRyaXZlcj8KCj4gK3sKPiArCWludCBn
c2kgPSAxNiArIChCTUNfUkVTRVRfR1BJTyAmIDcpOwo+ICsJdm9pZCBfX2lvbWVtICpncGlvX2Jh
c2U7Cj4gKwlpbnQgaXJxLCByZXQgPSAwOwo+ICsKPiArCS8qIFNpbmNlIExvb25nc29uLTNBIGhh
cmR3YXJlIGRvZXMgbm90IHN1cHBvcnQgR1BJTyBpbnRlcnJ1cHQgY2FzY2FkZSwKPiArCSAqIGNo
aXAtPmdwaW9fdG9faXJxKCkgY2Fubm90IGJlIGltcGxlbWVudGVkLAo+ICsJICogaGVyZSBhY3Bp
X3JlZ2lzdGVyX2dzaSgpIGlzIHVzZWQgdG8gZ2V0IGdwaW8gaXJxLgo+ICsJICovCgpVc2UgcHJv
cGVyIG11bHRpLWxpbmUgY29tbWVudGFyeSBhcyBwZXIgdGhlIENvZGluZyBTdHlsZSBkb2N1bWVu
dGF0aW9uLgoKPiArCWlycSA9IGFjcGlfcmVnaXN0ZXJfZ3NpKE5VTEwsIGdzaSwgQUNQSV9FREdF
X1NFTlNJVElWRSwgQUNQSV9BQ1RJVkVfTE9XKTsKPiArCWlmIChpcnEgPCAwKQo+ICsJCXJldHVy
biBpcnE7Cj4gKwo+ICsJZ3Bpb19iYXNlID0gaW9yZW1hcChMT09OR1NPTl9HUElPX1JFR19CQVNF
LCBMT09OR1NPTl9HUElPX1JFR19TSVpFKTsKPiArCWlmICghZ3Bpb19iYXNlKSB7Cj4gKwkJcmV0
ID0gUFRSX0VSUihncGlvX2Jhc2UpOwo+ICsJCWdvdG8gYWNwaV9mYWlsZWQ7Cj4gKwl9Cj4gKwo+
ICsJd3JpdGVsKHJlYWRsKGdwaW9fYmFzZSArIExPT05HU09OX0dQSU9fT0VOKSB8IEJJVChCTUNf
UkVTRVRfR1BJTyksCj4gKwkgICAgICAgZ3Bpb19iYXNlICsgTE9PTkdTT05fR1BJT19PRU4pOwo+
ICsJd3JpdGVsKHJlYWRsKGdwaW9fYmFzZSArIExPT05HU09OX0dQSU9fRlVOQykgJiB+QklUKEJN
Q19SRVNFVF9HUElPKSwKPiArCSAgICAgICBncGlvX2Jhc2UgKyBMT09OR1NPTl9HUElPX0ZVTkMp
Owo+ICsJd3JpdGVsKHJlYWRsKGdwaW9fYmFzZSArIExPT05HU09OX0dQSU9fSU5UUE9MKSAmIH5C
SVQoQk1DX1JFU0VUX0dQSU8pLAo+ICsJICAgICAgIGdwaW9fYmFzZSArIExPT05HU09OX0dQSU9f
SU5UUE9MKTsKPiArCXdyaXRlbChyZWFkbChncGlvX2Jhc2UgKyBMT09OR1NPTl9HUElPX0lOVEVO
KSB8IEJJVChCTUNfUkVTRVRfR1BJTyksCj4gKwkgICAgICAgZ3Bpb19iYXNlICsgTE9PTkdTT05f
R1BJT19JTlRFTik7Cj4gKwo+ICsJcmV0ID0gZGV2bV9yZXF1ZXN0X2lycShwcml2LT5kZXYsIGly
cSwgbHMya19ibWNfaW50ZXJydXB0LAo+ICsJCQkgICAgICAgSVJRRl9TSEFSRUQgfCBJUlFGX1RS
SUdHRVJfRkFMTElORywgImxzMmtibWMgZ3BpbyIsIHByaXYpOwo+ICsJaWYgKHJldCkKPiArCQlk
ZXZfZXJyKHByaXYtPmRldiwgImxzMmtibWMgZ3BpbyByZXF1ZXN0X2lycSglZCkgZmFpbGVkXG4i
LCBpcnEpOwoKIkxTMktCTUMiIGFuZCAiR1BJTyIsIGV0Yy4KCj4gKwo+ICsJaW91bm1hcChncGlv
X2Jhc2UpOwo+ICsKPiArYWNwaV9mYWlsZWQ6Cj4gKwlhY3BpX3VucmVnaXN0ZXJfZ3NpKGdzaSk7
Cj4gKwo+ICsJcmV0dXJuIHJldDsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgbHMya19ibWNfc2F2
ZV9wY2lfZGF0YShzdHJ1Y3QgcGNpX2RldiAqcGRldiwgc3RydWN0IGxzMmtfYm1jX3BkYXRhICpw
cml2KQo+ICt7Cj4gKwlzdHJ1Y3QgcGNpX2RldiAqcGFyZW50ID0gcGRldi0+YnVzLT5zZWxmOwo+
ICsJaW50IGk7Cj4gKwo+ICsJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoaW5kZXgpOyBpKysp
Cj4gKwkJcGNpX3JlYWRfY29uZmlnX2R3b3JkKHBhcmVudCwgaW5kZXhbaV0sICZwcml2LT5wY2lf
ZGF0YS5kYXRhW2ldKTsKPiArCj4gKwlmb3IgKGkgPSAwOyBpIDwgQVJSQVlfU0laRShjaW5kZXgp
OyBpKyspCj4gKwkJcGNpX3JlYWRfY29uZmlnX2R3b3JkKHBkZXYsIGNpbmRleFtpXSwgJnByaXYt
PnBjaV9kYXRhLmNkYXRhW2ldKTsKPiArCj4gKwlwY2lfcmVhZF9jb25maWdfZHdvcmQocGFyZW50
LCAweDgwYywgJnByaXYtPnBjaV9kYXRhLmQ4MGMpOwo+ICsJcHJpdi0+cGNpX2RhdGEuZDgwYyA9
IChwcml2LT5wY2lfZGF0YS5kODBjICYgfigzIDw8IDE3KSkgfCBCSVQoMTcpOwo+ICsKPiArCXBj
aV9yZWFkX2NvbmZpZ19kd29yZChwYXJlbnQsIDB4NzFjLCAmcHJpdi0+cGNpX2RhdGEuZDcxYyk7
Cj4gKwlwcml2LT5wY2lfZGF0YS5kNzFjIHw9IEJJVCgyNik7CgpObyBtYWdpYyBudW1iZXJzIHBs
ZWFzZS4gIERlZmluZSB0aGVtIGFsbC4KCj4gK30KPiArCj4gK3N0YXRpYyBpbnQgbHMya19ibWNf
cGRhdGFfaW5pdGlhbChzdHJ1Y3QgcGNpX2RldiAqcGRldiwgc3RydWN0IGxzMmtfYm1jX3BkYXRh
ICpwcml2KQo+ICt7Cj4gKwlpbnQgcmV0Owo+ICsKPiArCWxzMmtfYm1jX3NhdmVfcGNpX2RhdGEo
cGRldiwgcHJpdik7Cj4gKwo+ICsJSU5JVF9XT1JLKCZwcml2LT5yZXNldF93b3JrLCBsczJrX2Jt
Y19ldmVudHNfZm4pOwo+ICsKPiArCXJldCA9IGRldm1fcmVxdWVzdF9pcnEoJnBkZXYtPmRldiwg
cGRldi0+aXJxLCBsczJrX2JtY19pbnRlcnJ1cHQsCj4gKwkJCSAgICAgICBJUlFGX1NIQVJFRCB8
IElSUUZfVFJJR0dFUl9GQUxMSU5HLCAibHMya2JtYyBwY2llIiwgcHJpdik7Cj4gKwlpZiAocmV0
KSB7Cj4gKwkJZGV2X2Vycihwcml2LT5kZXYsICJsczJrYm1jIHBjaWUgcmVxdWVzdF9pcnEoJWQp
IGZhaWxlZFxuIiwgcGRldi0+aXJxKTsKPiArCQlyZXR1cm4gcmV0Owo+ICsJfQo+ICsKPiArCXJl
dHVybiBsczJrX2JtY19ncGlvX3Jlc2V0X2hhbmRsZXIocHJpdik7Cj4gK30KPiArCj4gIC8qCj4g
ICAqIEN1cnJlbnRseSB0aGUgTG9vbmdzb24tMkswNTAwIEJNQyBoYXJkd2FyZSBkb2VzIG5vdCBo
YXZlIGFuIGkyYyBpbnRlcmZhY2UgdG8KPiAgICogYWRhcHQgdG8gdGhlIHJlc29sdXRpb24uCj4g
QEAgLTEwMSwxMiArMzMwLDI1IEBAIHN0YXRpYyBpbnQgbHMya19ibWNfcHJvYmUoc3RydWN0IHBj
aV9kZXYgKmRldiwgY29uc3Qgc3RydWN0IHBjaV9kZXZpY2VfaWQgKmlkKQo+ICB7Cj4gIAlpbnQg
cmV0ID0gMDsKPiAgCXJlc291cmNlX3NpemVfdCBiYXNlOwo+ICsJc3RydWN0IGxzMmtfYm1jX3Bk
YXRhICpwcml2Owo+ICAJc3RydWN0IHNpbXBsZWZiX3BsYXRmb3JtX2RhdGEgcGQ7Cj4gIAo+ICAJ
cmV0ID0gcGNpX2VuYWJsZV9kZXZpY2UoZGV2KTsKPiAgCWlmIChyZXQpCj4gIAkJcmV0dXJuIHJl
dDsKPiAgCj4gKwlwcml2ID0gZGV2bV9remFsbG9jKCZkZXYtPmRldiwgc2l6ZW9mKCpwcml2KSwg
R0ZQX0tFUk5FTCk7Cj4gKwlpZiAoSVNfRVJSKHByaXYpKSB7Cj4gKwkJcmV0ID0gLUVOT01FTTsK
PiArCQlnb3RvIGRpc2FibGVfcGNpOwo+ICsJfQo+ICsKPiArCXByaXYtPmRldiA9ICZkZXYtPmRl
djsKPiArCj4gKwlyZXQgPSBsczJrX2JtY19wZGF0YV9pbml0aWFsKGRldiwgcHJpdik7Cj4gKwlp
ZiAocmV0KQo+ICsJCWdvdG8gZGlzYWJsZV9wY2k7Cj4gKwo+ICAJcmV0ID0gbHMya19ibWNfZ2V0
X3ZpZGVvX21vZGUoZGV2LCAmcGQpOwo+ICAJaWYgKHJldCkKPiAgCQlnb3RvIGRpc2FibGVfcGNp
Owo+IC0tIAo+IDIuNDcuMQo+IAoKLS0gCkxlZSBKb25lcyBb5p2O55C85pavXQoKCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCk9wZW5pcG1pLWRldmVsb3Bl
ciBtYWlsaW5nIGxpc3QKT3BlbmlwbWktZGV2ZWxvcGVyQGxpc3RzLnNvdXJjZWZvcmdlLm5ldApo
dHRwczovL2xpc3RzLnNvdXJjZWZvcmdlLm5ldC9saXN0cy9saXN0aW5mby9vcGVuaXBtaS1kZXZl
bG9wZXIK
