Return-Path: <openipmi-developer-bounces@lists.sourceforge.net>
X-Original-To: lists+openipmi-developer@lfdr.de
Delivered-To: lists+openipmi-developer@lfdr.de
Received: from lists.sourceforge.net (lists.sourceforge.net [216.105.38.7])
	by mail.lfdr.de (Postfix) with ESMTPS id EC99FAD117E
	for <lists+openipmi-developer@lfdr.de>; Sun,  8 Jun 2025 09:46:08 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=lists.sourceforge.net; s=beta; h=Content-Transfer-Encoding:Content-Type:Cc:
	Reply-To:From:List-Subscribe:List-Help:List-Post:List-Archive:
	List-Unsubscribe:List-Id:Subject:To:Message-ID:Date:In-Reply-To:References:
	MIME-Version:Sender:Content-ID:Content-Description:Resent-Date:Resent-From:
	Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:List-Owner;
	bh=l3f6ZnUQQ9P67USmXWVtEkX2wbIMyNJtw4A1ldiUVac=; b=ZzQNANBYaH+7O5zGSLOjqDN9TZ
	27IqGnLr7ApEgp0ql/nuQa5XLSQ3skvhB5hXAc20YwEYNvK7gVYiz/mbwrfEer1YaVPE/UH6p1LAk
	uY5okaasam1LZvwS2PFQpyw5csW6xm7fOEomYkPqryQ1gr4w9EFsWxjlxh8anlWVz7f8=;
Received: from [127.0.0.1] (helo=sfs-ml-1.v29.lw.sourceforge.com)
	by sfs-ml-1.v29.lw.sourceforge.com with esmtp (Exim 4.95)
	(envelope-from <openipmi-developer-bounces@lists.sourceforge.net>)
	id 1uOAj3-00011R-U6;
	Sun, 08 Jun 2025 07:45:53 +0000
Received: from [172.30.29.66] (helo=mx.sourceforge.net)
 by sfs-ml-1.v29.lw.sourceforge.com with esmtps (TLS1.2) tls
 TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (Exim 4.95)
 (envelope-from <chenhuacai@kernel.org>) id 1uOAj2-00011J-Ch
 for openipmi-developer@lists.sourceforge.net;
 Sun, 08 Jun 2025 07:45:52 +0000
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
 d=sourceforge.net; s=x; h=Content-Transfer-Encoding:Content-Type:Cc:To:
 Subject:Message-ID:Date:From:In-Reply-To:References:MIME-Version:Sender:
 Reply-To:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender
 :Resent-To:Resent-Cc:Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:
 List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=61U8IsSJ0oq7F0+uZwWFKnHMxIxocLMeyauWL8AAbbY=; b=GFIv6BaInz1+H1JK8lcCVMCw2T
 rN6IhoHhsRcP5Pql0zxS2ZTKcMxPYRjpUd0OJUD2nY/Z2rmFKUqRac2GqlA+OFa5bEWXDYPnHTKdb
 xyT7s2uoKBQsF5W+nDyCLet/XvI9BFmFYySTQlDi4m4qKW+DE4YPkK216VKeiFfErSrE=;
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=sf.net; s=x
 ;
 h=Content-Transfer-Encoding:Content-Type:Cc:To:Subject:Message-ID:Date:From
 :In-Reply-To:References:MIME-Version:Sender:Reply-To:Content-ID:
 Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc
 :Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:List-Subscribe:
 List-Post:List-Owner:List-Archive;
 bh=61U8IsSJ0oq7F0+uZwWFKnHMxIxocLMeyauWL8AAbbY=; b=RM/XU408czyH2MygD54rVEJVxZ
 YiD7vM+yYIoVK/WIFph1PYgw4n6Hj99rogFZEjHbma3H4i+3iMBpKyL+l86JlagmXiEL+DAiGllfa
 B8inxGt4WErTO+g0YAwc9poJeeahZgK3yZV+lfBunft+QcivWXSf87Zmrd1LHnhtG1l0=;
Received: from sea.source.kernel.org ([172.234.252.31])
 by sfi-mx-2.v28.lw.sourceforge.com with esmtps
 (TLS1.2:ECDHE-RSA-AES256-GCM-SHA384:256) (Exim 4.95)
 id 1uOAiy-0005yZ-Gs for openipmi-developer@lists.sourceforge.net;
 Sun, 08 Jun 2025 07:45:52 +0000
Received: from smtp.kernel.org (transwarp.subspace.kernel.org [100.75.92.58])
 by sea.source.kernel.org (Postfix) with ESMTP id 155464AB00
 for <openipmi-developer@lists.sourceforge.net>;
 Sun,  8 Jun 2025 07:45:38 +0000 (UTC)
Received: by smtp.kernel.org (Postfix) with ESMTPSA id D6F92C4AF0B
 for <openipmi-developer@lists.sourceforge.net>;
 Sun,  8 Jun 2025 07:45:37 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=k20201202; t=1749368737;
 bh=ViI2T46sFsE2M2eJ+AsfB8fxQS0qJtQGyUSaJmesw0g=;
 h=References:In-Reply-To:From:Date:Subject:To:Cc:From;
 b=ffdaPPLJs4E7vUx4CteoVjxwQp/d9oGRy5xxdR6vHlrqQcjIb5L90tVh9Lncjm8ho
 OZpZGQM4QQ777ERglHpLF6VXRdQiyDty1rVxGJZ9EUf5zOXOmzNuHCQw3vNwUrRelP
 lQQMBfZ+hsvzg5Mg2xHLSoOoyJ6/8et0Uyymv5JHZP46IXcfqMWS75SSxsAywPLOOO
 RQpQasLROLCfHkWpsa++pMBH9DTcUVUwDRCL3X80Q/qQYRFoThBAoY/lMDFWTze/zu
 yOo2jXahJUCg8lyw2fXq2+xOwIaYZYcSU0TrUGuFkMnsld92KASgu7ja5NkjeqU4fw
 x2Tfhg/dJcyjg==
Received: by mail-ed1-f44.google.com with SMTP id
 4fb4d7f45d1cf-606c5c9438fso6514865a12.2
 for <openipmi-developer@lists.sourceforge.net>;
 Sun, 08 Jun 2025 00:45:37 -0700 (PDT)
X-Forwarded-Encrypted: i=1;
 AJvYcCWRwAIzDTYb84zr8rZgtTZeWw8t72vFZj9y7xxB6xm7uEYVc9L/ljR+9dHMZZkfRMoGxEfIvNH8ZHMXsANYmzeYz60=@lists.sourceforge.net
X-Gm-Message-State: AOJu0YwvGqI8iKuBTnOWwc3Vrp9fVkkxq5RwUdkjImGac+eGYakhAsQq
 1PSAKfiZ6xxwO2+WPUYSJ3dHdguP8oAjUeJbpHX1P8dFnGWWoTNscM/aa68pnd31Oi46jtncByM
 FChgUf0ExjeWii3wlbeESDfOK2d0SFic=
X-Google-Smtp-Source: AGHT+IEMxiC61/WdIzKDDhTsddX3se4U2/Ek3Y5G+M7rk+ts69pqUn08kEk+NWD2RirZytq1A5O9kffxy+5LYh5IL3U=
X-Received: by 2002:a05:6402:510c:b0:602:28d9:d555 with SMTP id
 4fb4d7f45d1cf-607748963dfmr7945203a12.32.1749368736343; Sun, 08 Jun 2025
 00:45:36 -0700 (PDT)
MIME-Version: 1.0
References: <cover.1748505446.git.zhoubinbin@loongson.cn>
 <01805f8d1b9c8e6564a2d6d83964f78ed29b8f1f.1748505446.git.zhoubinbin@loongson.cn>
In-Reply-To: <01805f8d1b9c8e6564a2d6d83964f78ed29b8f1f.1748505446.git.zhoubinbin@loongson.cn>
Date: Sun, 8 Jun 2025 15:45:25 +0800
X-Gmail-Original-Message-ID: <CAAhV-H41kek9HmM99dZRak2wu24e12ytYu+4Ji-Zo0TkxXmv=g@mail.gmail.com>
X-Gm-Features: AX0GCFt4I7HLiM-K0sxDHw6ATO2018f3KDTcxmIN0cLyV0f8WNgLpCy4hoPCmgU
Message-ID: <CAAhV-H41kek9HmM99dZRak2wu24e12ytYu+4Ji-Zo0TkxXmv=g@mail.gmail.com>
To: Binbin Zhou <zhoubinbin@loongson.cn>
X-Spam-Score: -0.3 (/)
X-Spam-Report: Spam detection software,
 running on the system "sfi-spamd-2.hosts.colo.sdot.me", 
 has NOT identified this incoming email as spam.  The original
 message has been attached to this so you can view it or label
 similar future email.  If you have any questions, see
 the administrator of that system for details.
 Content preview:  Hi, Binbin, On Thu, May 29,
 2025 at 8:23 PM Binbin Zhou <zhoubinbin@loongson.cn>
 wrote: > > This patch adds Loongson-2K BMC IPMI support. > > According to
 the existing design, we use software simulation to > impl [...] 
 Content analysis details:   (-0.3 points, 5.0 required)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -0.1 DKIM_VALID_EF          Message has a valid DKIM or DK signature from
 envelope-from domain
 0.1 DKIM_SIGNED            Message has a DKIM or DK signature,
 not necessarily valid
 -0.1 DKIM_VALID_AU Message has a valid DKIM or DK signature from author's
 domain
 -0.1 DKIM_VALID Message has at least one valid DKIM or DK signature
 -0.1 DKIMWL_WL_HIGH         DKIMwl.org - High trust sender
X-Headers-End: 1uOAiy-0005yZ-Gs
Subject: Re: [Openipmi-developer] [PATCH v3 2/3] ipmi: Add Loongson-2K BMC
 support
X-BeenThere: openipmi-developer@lists.sourceforge.net
X-Mailman-Version: 2.1.21
Precedence: list
List-Id: Developer list of OpenIPMI library and Linux driver
 <openipmi-developer.lists.sourceforge.net>
List-Unsubscribe: <https://lists.sourceforge.net/lists/options/openipmi-developer>, 
 <mailto:openipmi-developer-request@lists.sourceforge.net?subject=unsubscribe>
List-Archive: <http://sourceforge.net/mailarchive/forum.php?forum_name=openipmi-developer>
List-Post: <mailto:openipmi-developer@lists.sourceforge.net>
List-Help: <mailto:openipmi-developer-request@lists.sourceforge.net?subject=help>
List-Subscribe: <https://lists.sourceforge.net/lists/listinfo/openipmi-developer>, 
 <mailto:openipmi-developer-request@lists.sourceforge.net?subject=subscribe>
From: Huacai Chen via Openipmi-developer
 <openipmi-developer@lists.sourceforge.net>
Reply-To: Huacai Chen <chenhuacai@kernel.org>
Cc: Chong Qiao <qiaochong@loongson.cn>, jeffbai@aosc.io,
 Corey Minyard <minyard@acm.org>, kexybiscuit@aosc.io,
 Binbin Zhou <zhoubb.aaron@gmail.com>, Lee Jones <lee@kernel.org>,
 linux-kernel@vger.kernel.org, loongarch@lists.linux.dev, wangyao@lemote.com,
 Xuerui Wang <kernel@xen0n.name>, openipmi-developer@lists.sourceforge.net,
 Huacai Chen <chenhuacai@loongson.cn>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: openipmi-developer-bounces@lists.sourceforge.net

SGksIEJpbmJpbiwKCk9uIFRodSwgTWF5IDI5LCAyMDI1IGF0IDg6MjPigK9QTSBCaW5iaW4gWmhv
dSA8emhvdWJpbmJpbkBsb29uZ3Nvbi5jbj4gd3JvdGU6Cj4KPiBUaGlzIHBhdGNoIGFkZHMgTG9v
bmdzb24tMksgQk1DIElQTUkgc3VwcG9ydC4KPgo+IEFjY29yZGluZyB0byB0aGUgZXhpc3Rpbmcg
ZGVzaWduLCB3ZSB1c2Ugc29mdHdhcmUgc2ltdWxhdGlvbiB0bwo+IGltcGxlbWVudCB0aGUgS0NT
IGludGVyZmFjZSByZWdpc3RlcnM6IFN0YXV0cy9Db21tYW5kL0RhdGFfT3V0L0RhdGFfSW4uCj4K
PiBBbHNvIHNpbmNlIGJvdGggaG9zdCBzaWRlIGFuZCBCTUMgc2lkZSByZWFkIGFuZCB3cml0ZSBr
Y3Mgc3RhdHVzLCBmaWZvIGZsYWcKPiBpcyB1c2VkIHRvIGVuc3VyZSBkYXRhIGNvbnNpc3RlbmN5
Lgo+Cj4gVGhlIHNpbmdsZSBLQ1MgbWVzc2FnZSBibG9jayBpcyBhcyBmb2xsb3dzOgo+Cj4gKy0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0rCj4gfEZJRk8gZmxhZ3N8IEtDUyByZWdpc3RlciBkYXRhIHwgQ01EIGRh
dGEgfCBLQ1MgdmVyc2lvbiB8IFdSIFJFUSB8IFdSIEFDSyB8Cj4gKy0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0r
Cj4KPiBDby1kZXZlbG9wZWQtYnk6IENob25nIFFpYW8gPHFpYW9jaG9uZ0Bsb29uZ3Nvbi5jbj4K
PiBTaWduZWQtb2ZmLWJ5OiBDaG9uZyBRaWFvIDxxaWFvY2hvbmdAbG9vbmdzb24uY24+Cj4gU2ln
bmVkLW9mZi1ieTogQmluYmluIFpob3UgPHpob3ViaW5iaW5AbG9vbmdzb24uY24+Cj4gLS0tCj4g
IGRyaXZlcnMvY2hhci9pcG1pL01ha2VmaWxlICAgICAgIHwgICAxICsKPiAgZHJpdmVycy9jaGFy
L2lwbWkvaXBtaV9zaS5oICAgICAgfCAgIDcgKysKPiAgZHJpdmVycy9jaGFyL2lwbWkvaXBtaV9z
aV9pbnRmLmMgfCAgIDMgKwo+ICBkcml2ZXJzL2NoYXIvaXBtaS9pcG1pX3NpX2xzMmsuYyB8IDE5
MCArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrCj4gIDQgZmlsZXMgY2hhbmdlZCwgMjAx
IGluc2VydGlvbnMoKykKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvY2hhci9pcG1pL2lw
bWlfc2lfbHMyay5jCj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9jaGFyL2lwbWkvTWFrZWZpbGUg
Yi9kcml2ZXJzL2NoYXIvaXBtaS9NYWtlZmlsZQo+IGluZGV4IGUwOTQ0NTQ3YzlkMC4uMTczMDhk
ZDZiZTIwIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvY2hhci9pcG1pL01ha2VmaWxlCj4gKysrIGIv
ZHJpdmVycy9jaGFyL2lwbWkvTWFrZWZpbGUKPiBAQCAtOCw2ICs4LDcgQEAgaXBtaV9zaS15IDo9
IGlwbWlfc2lfaW50Zi5vIGlwbWlfa2NzX3NtLm8gaXBtaV9zbWljX3NtLm8gaXBtaV9idF9zbS5v
IFwKPiAgICAgICAgIGlwbWlfc2lfbWVtX2lvLm8KPiAgaXBtaV9zaS0kKENPTkZJR19IQVNfSU9Q
T1JUKSArPSBpcG1pX3NpX3BvcnRfaW8ubwo+ICBpcG1pX3NpLSQoQ09ORklHX1BDSSkgKz0gaXBt
aV9zaV9wY2kubwo+ICtpcG1pX3NpLSQoQ09ORklHX01GRF9MUzJLX0JNQykgKz0gaXBtaV9zaV9s
czJrLm8KPiAgaXBtaV9zaS0kKENPTkZJR19QQVJJU0MpICs9IGlwbWlfc2lfcGFyaXNjLm8KPgo+
ICBvYmotJChDT05GSUdfSVBNSV9IQU5ETEVSKSArPSBpcG1pX21zZ2hhbmRsZXIubwo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2NoYXIvaXBtaS9pcG1pX3NpLmggYi9kcml2ZXJzL2NoYXIvaXBtaS9p
cG1pX3NpLmgKPiBpbmRleCA1MDhjM2ZkNDU4NzcuLmYzOGVhNGY0Yzg5MSAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2NoYXIvaXBtaS9pcG1pX3NpLmgKPiArKysgYi9kcml2ZXJzL2NoYXIvaXBtaS9p
cG1pX3NpLmgKPiBAQCAtMTAxLDYgKzEwMSwxMyBAQCB2b2lkIGlwbWlfc2lfcGNpX3NodXRkb3du
KHZvaWQpOwo+ICBzdGF0aWMgaW5saW5lIHZvaWQgaXBtaV9zaV9wY2lfaW5pdCh2b2lkKSB7IH0K
PiAgc3RhdGljIGlubGluZSB2b2lkIGlwbWlfc2lfcGNpX3NodXRkb3duKHZvaWQpIHsgfQo+ICAj
ZW5kaWYKPiArI2lmZGVmIENPTkZJR19NRkRfTFMyS19CTUMKPiArdm9pZCBpcG1pX3NpX2xzMmtf
aW5pdCh2b2lkKTsKPiArdm9pZCBpcG1pX3NpX2xzMmtfc2h1dGRvd24odm9pZCk7Cj4gKyNlbHNl
Cj4gK3N0YXRpYyBpbmxpbmUgdm9pZCBpcG1pX3NpX2xzMmtfaW5pdCh2b2lkKSB7IH0KPiArc3Rh
dGljIGlubGluZSB2b2lkIGlwbWlfc2lfbHMya19zaHV0ZG93bih2b2lkKSB7IH0KPiArI2VuZGlm
Cj4gICNpZmRlZiBDT05GSUdfUEFSSVNDCj4gIHZvaWQgaXBtaV9zaV9wYXJpc2NfaW5pdCh2b2lk
KTsKPiAgdm9pZCBpcG1pX3NpX3BhcmlzY19zaHV0ZG93bih2b2lkKTsKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9jaGFyL2lwbWkvaXBtaV9zaV9pbnRmLmMgYi9kcml2ZXJzL2NoYXIvaXBtaS9pcG1p
X3NpX2ludGYuYwo+IGluZGV4IDdmZTg5MTc4M2EzNy4uYzEzZDUxMzJmZmZjIDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvY2hhci9pcG1pL2lwbWlfc2lfaW50Zi5jCj4gKysrIGIvZHJpdmVycy9jaGFy
L2lwbWkvaXBtaV9zaV9pbnRmLmMKPiBAQCAtMjEyMCw2ICsyMTIwLDcgQEAgc3RhdGljIGludCBf
X2luaXQgaW5pdF9pcG1pX3NpKHZvaWQpCj4KPiAgICAgICAgIGlwbWlfc2lfcGNpX2luaXQoKTsK
Pgo+ICsgICAgICAgaXBtaV9zaV9sczJrX2luaXQoKTsKPiAgICAgICAgIGlwbWlfc2lfcGFyaXNj
X2luaXQoKTsKPgo+ICAgICAgICAgbXV0ZXhfbG9jaygmc21pX2luZm9zX2xvY2spOwo+IEBAIC0y
MzM0LDYgKzIzMzUsOCBAQCBzdGF0aWMgdm9pZCBjbGVhbnVwX2lwbWlfc2kodm9pZCkKPgo+ICAg
ICAgICAgaXBtaV9zaV9wY2lfc2h1dGRvd24oKTsKPgo+ICsgICAgICAgaXBtaV9zaV9sczJrX3No
dXRkb3duKCk7Cj4gKwo+ICAgICAgICAgaXBtaV9zaV9wYXJpc2Nfc2h1dGRvd24oKTsKPgo+ICAg
ICAgICAgaXBtaV9zaV9wbGF0Zm9ybV9zaHV0ZG93bigpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2NoYXIvaXBtaS9pcG1pX3NpX2xzMmsuYyBiL2RyaXZlcnMvY2hhci9pcG1pL2lwbWlfc2lfbHMy
ay5jCj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwMDAwMDAuLjcxMTU5ZTk4
ODJiNwo+IC0tLSAvZGV2L251bGwKPiArKysgYi9kcml2ZXJzL2NoYXIvaXBtaS9pcG1pX3NpX2xz
MmsuYwo+IEBAIC0wLDAgKzEsMTkwIEBACj4gKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBH
UEwtMi4wKwo+ICsvKgo+ICsgKiBEcml2ZXIgZm9yIExvb25nc29uLTJLIEJNQyBJUE1JCj4gKyAq
Cj4gKyAqIENvcHlyaWdodCAoQykgMjAyNC0yMDI1IExvb25nc29uIFRlY2hub2xvZ3kgQ29ycG9y
YXRpb24gTGltaXRlZC4KPiArICoKPiArICogQXV0aG9yczoKPiArICogICAgIENob25nIFFpYW8g
PHFpYW9jaG9uZ0Bsb29uZ3Nvbi5jbj4KPiArICogICAgIEJpbmJpbiBaaG91IDx6aG91YmluYmlu
QGxvb25nc29uLmNuPgo+ICsgKi8KPiArCj4gKyNpbmNsdWRlIDxsaW51eC9iaXRmaWVsZC5oPgo+
ICsjaW5jbHVkZSA8bGludXgvaW9wb3J0Lmg+Cj4gKyNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4K
PiArI2luY2x1ZGUgPGxpbnV4L3R5cGVzLmg+Cj4gKwo+ICsjaW5jbHVkZSAiaXBtaV9zaS5oIgo+
ICsKPiArI2RlZmluZSBMUzJLX0tDU19GSUZPX0lCRkggICAgIDB4MAo+ICsjZGVmaW5lIExTMktf
S0NTX0ZJRk9fSUJGVCAgICAgMHgxCj4gKyNkZWZpbmUgTFMyS19LQ1NfRklGT19PQkZIICAgICAw
eDIKPiArI2RlZmluZSBMUzJLX0tDU19GSUZPX09CRlQgICAgIDB4Mwo+ICsKPiArLyogS0NTIHJl
Z2lzdGVycyAqLwo+ICsjZGVmaW5lIExTMktfS0NTX1JFR19TVFMgICAgICAgMHg0Cj4gKyNkZWZp
bmUgTFMyS19LQ1NfUkVHX0RBVEFfT1VUICAweDUKPiArI2RlZmluZSBMUzJLX0tDU19SRUdfREFU
QV9JTiAgIDB4Ngo+ICsjZGVmaW5lIExTMktfS0NTX1JFR19DTUQgICAgICAgMHg4Cj4gKwo+ICsj
ZGVmaW5lIExTMktfS0NTX0NNRF9EQVRBICAgICAgMHhhCj4gKyNkZWZpbmUgTFMyS19LQ1NfVkVS
U0lPTiAgICAgICAweGIKPiArI2RlZmluZSBMUzJLX0tDU19XUl9SRVEgICAgICAgICAgICAgICAg
MHhjCj4gKyNkZWZpbmUgTFMyS19LQ1NfV1JfQUNLICAgICAgICAgICAgICAgIDB4MTAKPiArCj4g
KyNkZWZpbmUgTFMyS19LQ1NfU1RTX09CRiAgICAgICBCSVQoMCkKPiArI2RlZmluZSBMUzJLX0tD
U19TVFNfSUJGICAgICAgIEJJVCgxKQo+ICsjZGVmaW5lIExTMktfS0NTX1NUU19TTVNfQVROICAg
QklUKDIpCj4gKyNkZWZpbmUgTFMyS19LQ1NfU1RTX0NNRCAgICAgICBCSVQoMykKPiArCj4gKyNk
ZWZpbmUgTFMyS19LQ1NfREFUQV9NQVNLICAgICAoTFMyS19LQ1NfU1RTX09CRiB8IExTMktfS0NT
X1NUU19JQkYgfCBMUzJLX0tDU19TVFNfQ01EKQo+ICsKPiArc3RhdGljIGJvb2wgbHMya19yZWdp
c3RlcmVkOwo+ICsKPiArc3RhdGljIHVuc2lnbmVkIGNoYXIgbHMya19tZW1faW5iX3YwKGNvbnN0
IHN0cnVjdCBzaV9zbV9pbyAqaW8sIHVuc2lnbmVkIGludCBvZmZzZXQpCj4gK3sKPiArICAgICAg
IHZvaWQgX19pb21lbSAqYWRkciA9IGlvLT5hZGRyOwo+ICsgICAgICAgaW50IHJlZ19vZmZzZXQ7
Cj4gKwo+ICsgICAgICAgaWYgKG9mZnNldCAmIEJJVCgwKSkgewo+ICsgICAgICAgICAgICAgICBy
ZWdfb2Zmc2V0ID0gTFMyS19LQ1NfUkVHX1NUUzsKPiArICAgICAgIH0gZWxzZSB7Cj4gKyAgICAg
ICAgICAgICAgIHdyaXRlYihyZWFkYihhZGRyICsgTFMyS19LQ1NfUkVHX1NUUykgJiB+TFMyS19L
Q1NfU1RTX09CRiwKPiArICAgICAgICAgICAgICAgICAgICAgIGFkZHIgKyBMUzJLX0tDU19SRUdf
U1RTKTsKTmV3bGluZSBpcyB1bm5lY2Vzc2FyeSBoZXJlLgoKSHVhY2FpCgo+ICsgICAgICAgICAg
ICAgICByZWdfb2Zmc2V0ID0gTFMyS19LQ1NfUkVHX0RBVEFfT1VUOwo+ICsgICAgICAgfQo+ICsK
PiArICAgICAgIHJldHVybiByZWFkYihhZGRyICsgcmVnX29mZnNldCk7Cj4gK30KPiArCj4gK3N0
YXRpYyB1bnNpZ25lZCBjaGFyIGxzMmtfbWVtX2luYl92MShjb25zdCBzdHJ1Y3Qgc2lfc21faW8g
KmlvLCB1bnNpZ25lZCBpbnQgb2Zmc2V0KQo+ICt7Cj4gKyAgICAgICB2b2lkIF9faW9tZW0gKmFk
ZHIgPSBpby0+YWRkcjsKPiArICAgICAgIHVuc2lnbmVkIGNoYXIgaW5iID0gMCwgY21kOwo+ICsg
ICAgICAgYm9vbCBvYmYsIGliZjsKPiArCj4gKyAgICAgICBvYmYgPSByZWFkYihhZGRyICsgTFMy
S19LQ1NfRklGT19PQkZIKSBeIHJlYWRiKGFkZHIgKyBMUzJLX0tDU19GSUZPX09CRlQpOwo+ICsg
ICAgICAgaWJmID0gcmVhZGIoYWRkciArIExTMktfS0NTX0ZJRk9fSUJGSCkgXiByZWFkYihhZGRy
ICsgTFMyS19LQ1NfRklGT19JQkZUKTsKPiArICAgICAgIGNtZCA9IHJlYWRiKGFkZHIgKyBMUzJL
X0tDU19DTURfREFUQSk7Cj4gKwo+ICsgICAgICAgaWYgKG9mZnNldCAmIEJJVCgwKSkgewo+ICsg
ICAgICAgICAgICAgICBpbmIgPSByZWFkYihhZGRyICsgTFMyS19LQ1NfUkVHX1NUUykgJiB+TFMy
S19LQ1NfREFUQV9NQVNLOwo+ICsgICAgICAgICAgICAgICBpbmIgfD0gRklFTERfUFJFUChMUzJL
X0tDU19TVFNfT0JGLCBvYmYpCj4gKyAgICAgICAgICAgICAgICAgICB8IEZJRUxEX1BSRVAoTFMy
S19LQ1NfU1RTX0lCRiwgaWJmKQo+ICsgICAgICAgICAgICAgICAgICAgfCBGSUVMRF9QUkVQKExT
MktfS0NTX1NUU19DTUQsIGNtZCk7Cj4gKyAgICAgICB9IGVsc2Ugewo+ICsgICAgICAgICAgICAg
ICBpbmIgPSByZWFkYihhZGRyICsgTFMyS19LQ1NfUkVHX0RBVEFfT1VUKTsKPiArICAgICAgICAg
ICAgICAgd3JpdGViKHJlYWRiKGFkZHIgKyBMUzJLX0tDU19GSUZPX09CRkgpLCBhZGRyICsgTFMy
S19LQ1NfRklGT19PQkZUKTsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICByZXR1cm4gaW5iOwo+
ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCBsczJrX21lbV9vdXRiX3YwKGNvbnN0IHN0cnVjdCBzaV9z
bV9pbyAqaW8sIHVuc2lnbmVkIGludCBvZmZzZXQsCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB1bnNpZ25lZCBjaGFyIHZhbCkKPiArewo+ICsgICAgICAgdm9pZCBfX2lvbWVtICphZGRy
ID0gaW8tPmFkZHI7Cj4gKyAgICAgICB1bnNpZ25lZCBjaGFyIHN0cyA9IHJlYWRiKGFkZHIgKyBM
UzJLX0tDU19SRUdfU1RTKTsKPiArICAgICAgIGludCByZWdfb2Zmc2V0Owo+ICsKPiArICAgICAg
IGlmIChzdHMgJiBMUzJLX0tDU19TVFNfSUJGKQo+ICsgICAgICAgICAgICAgICByZXR1cm47Cj4g
Kwo+ICsgICAgICAgaWYgKG9mZnNldCAmIEJJVCgwKSkgewo+ICsgICAgICAgICAgICAgICByZWdf
b2Zmc2V0ID0gTFMyS19LQ1NfUkVHX0NNRDsKPiArICAgICAgICAgICAgICAgc3RzIHw9IExTMktf
S0NTX1NUU19DTUQ7Cj4gKyAgICAgICB9IGVsc2Ugewo+ICsgICAgICAgICAgICAgICByZWdfb2Zm
c2V0ID0gTFMyS19LQ1NfUkVHX0RBVEFfSU47Cj4gKyAgICAgICAgICAgICAgIHN0cyAmPSB+TFMy
S19LQ1NfU1RTX0NNRDsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICB3cml0ZXcodmFsLCBhZGRy
ICsgcmVnX29mZnNldCk7Cj4gKyAgICAgICB3cml0ZWIoc3RzIHwgTFMyS19LQ1NfU1RTX0lCRiwg
YWRkciArIExTMktfS0NTX1JFR19TVFMpOwo+ICsgICAgICAgd3JpdGVsKHJlYWRsKGFkZHIgKyBM
UzJLX0tDU19XUl9SRVEpICsgMSwgYWRkciArIExTMktfS0NTX1dSX1JFUSk7Cj4gK30KPiArCj4g
K3N0YXRpYyB2b2lkIGxzMmtfbWVtX291dGJfdjEoY29uc3Qgc3RydWN0IHNpX3NtX2lvICppbywg
dW5zaWduZWQgaW50IG9mZnNldCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2ln
bmVkIGNoYXIgdmFsKQo+ICt7Cj4gKyAgICAgICB2b2lkIF9faW9tZW0gKmFkZHIgPSBpby0+YWRk
cjsKPiArICAgICAgIHVuc2lnbmVkIGNoYXIgaWJmaCwgaWJmdDsKPiArICAgICAgIGludCByZWdf
b2Zmc2V0Owo+ICsKPiArICAgICAgIGliZmggPSByZWFkYihhZGRyICsgTFMyS19LQ1NfRklGT19J
QkZIKTsKPiArICAgICAgIGliZnQgPSByZWFkYihhZGRyICsgTFMyS19LQ1NfRklGT19JQkZUKTsK
PiArCj4gKyAgICAgICBpZiAoaWJmaCBeIGliZnQpCj4gKyAgICAgICAgICAgICAgIHJldHVybjsK
PiArCj4gKyAgICAgICByZWdfb2Zmc2V0ID0gKG9mZnNldCAmIEJJVCgwKSkgPyBMUzJLX0tDU19S
RUdfQ01EIDogTFMyS19LQ1NfUkVHX0RBVEFfSU47Cj4gKyAgICAgICB3cml0ZXcodmFsLCBhZGRy
ICsgcmVnX29mZnNldCk7Cj4gKwo+ICsgICAgICAgd3JpdGViKG9mZnNldCAmIEJJVCgwKSwgYWRk
ciArIExTMktfS0NTX0NNRF9EQVRBKTsKPiArICAgICAgIHdyaXRlYighaWJmdCwgYWRkciArIExT
MktfS0NTX0ZJRk9fSUJGSCk7Cj4gKyAgICAgICB3cml0ZWwocmVhZGwoYWRkciArIExTMktfS0NT
X1dSX1JFUSkgKyAxLCBhZGRyICsgTFMyS19LQ1NfV1JfUkVRKTsKPiArfQo+ICsKPiArc3RhdGlj
IHZvaWQgbHMya19tZW1fY2xlYW51cChzdHJ1Y3Qgc2lfc21faW8gKmlvKQo+ICt7Cj4gKyAgICAg
ICBpZiAoaW8tPmFkZHIpCj4gKyAgICAgICAgICAgICAgIGlvdW5tYXAoaW8tPmFkZHIpOwo+ICt9
Cj4gKwo+ICtzdGF0aWMgaW50IGlwbWlfbHMya19tZW1fc2V0dXAoc3RydWN0IHNpX3NtX2lvICpp
bykKPiArewo+ICsgICAgICAgdW5zaWduZWQgY2hhciB2ZXJzaW9uOwo+ICsKPiArICAgICAgIGlv
LT5hZGRyID0gaW9yZW1hcChpby0+YWRkcl9kYXRhLCBpby0+cmVnc3BhY2luZyk7Cj4gKyAgICAg
ICBpZiAoIWlvLT5hZGRyKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gLUVJTzsKPiArCj4gKyAg
ICAgICB2ZXJzaW9uID0gcmVhZGIoaW8tPmFkZHIgKyBMUzJLX0tDU19WRVJTSU9OKTsKPiArCj4g
KyAgICAgICBpby0+aW5wdXRiID0gdmVyc2lvbiA/IGxzMmtfbWVtX2luYl92MSA6IGxzMmtfbWVt
X2luYl92MDsKPiArICAgICAgIGlvLT5vdXRwdXRiID0gdmVyc2lvbiA/IGxzMmtfbWVtX291dGJf
djEgOiBsczJrX21lbV9vdXRiX3YwOwo+ICsgICAgICAgaW8tPmlvX2NsZWFudXAgPSBsczJrX21l
bV9jbGVhbnVwOwo+ICsKPiArICAgICAgIHJldHVybiAwOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50
IGlwbWlfbHMya19wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQo+ICt7Cj4gKyAg
ICAgICBzdHJ1Y3Qgc2lfc21faW8gaW87Cj4gKwo+ICsgICAgICAgbWVtc2V0KCZpbywgMCwgc2l6
ZW9mKGlvKSk7Cj4gKwo+ICsgICAgICAgaW8uc2lfaW5mbyAgICAgID0gJmlwbWlfa2NzX3NpX2lu
Zm87Cj4gKyAgICAgICBpby5pb19zZXR1cCAgICAgPSBpcG1pX2xzMmtfbWVtX3NldHVwOwo+ICsg
ICAgICAgaW8uYWRkcl9kYXRhICAgID0gcGRldi0+cmVzb3VyY2VbMF0uc3RhcnQ7Cj4gKyAgICAg
ICBpby5yZWdzcGFjaW5nICAgPSByZXNvdXJjZV9zaXplKCZwZGV2LT5yZXNvdXJjZVswXSk7Cj4g
KyAgICAgICBpby5kZXYgICAgICAgICAgPSAmcGRldi0+ZGV2Owo+ICsKPiArICAgICAgIGRldl9k
YmcoJnBkZXYtPmRldiwgImFkZHIgMHglbHgsIHNwYWNpbmcgJWQuXG4iLCBpby5hZGRyX2RhdGEs
IGlvLnJlZ3NwYWNpbmcpOwo+ICsKPiArICAgICAgIHJldHVybiBpcG1pX3NpX2FkZF9zbWkoJmlv
KTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgaXBtaV9sczJrX3JlbW92ZShzdHJ1Y3QgcGxhdGZv
cm1fZGV2aWNlICpwZGV2KQo+ICt7Cj4gKyAgICAgICBpcG1pX3NpX3JlbW92ZV9ieV9kZXYoJnBk
ZXYtPmRldik7Cj4gK30KPiArCj4gK3N0cnVjdCBwbGF0Zm9ybV9kcml2ZXIgaXBtaV9sczJrX3Bs
YXRmb3JtX2RyaXZlciA9IHsKPiArICAgICAgIC5kcml2ZXIgPSB7Cj4gKyAgICAgICAgICAgICAg
IC5uYW1lID0gImxzMmstaXBtaS1zaSIsCj4gKyAgICAgICB9LAo+ICsgICAgICAgLnByb2JlICA9
IGlwbWlfbHMya19wcm9iZSwKPiArICAgICAgIC5yZW1vdmUgPSBpcG1pX2xzMmtfcmVtb3ZlLAo+
ICt9Owo+ICsKPiArdm9pZCBpcG1pX3NpX2xzMmtfaW5pdCh2b2lkKQo+ICt7Cj4gKyAgICAgICBw
bGF0Zm9ybV9kcml2ZXJfcmVnaXN0ZXIoJmlwbWlfbHMya19wbGF0Zm9ybV9kcml2ZXIpOwo+ICsg
ICAgICAgbHMya19yZWdpc3RlcmVkID0gdHJ1ZTsKPiArfQo+ICsKPiArdm9pZCBpcG1pX3NpX2xz
Mmtfc2h1dGRvd24odm9pZCkKPiArewo+ICsgICAgICAgaWYgKGxzMmtfcmVnaXN0ZXJlZCkKPiAr
ICAgICAgICAgICAgICAgcGxhdGZvcm1fZHJpdmVyX3VucmVnaXN0ZXIoJmlwbWlfbHMya19wbGF0
Zm9ybV9kcml2ZXIpOwo+ICt9Cj4gLS0KPiAyLjQ3LjEKPgo+CgoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KT3BlbmlwbWktZGV2ZWxvcGVyIG1haWxpbmcg
bGlzdApPcGVuaXBtaS1kZXZlbG9wZXJAbGlzdHMuc291cmNlZm9yZ2UubmV0Cmh0dHBzOi8vbGlz
dHMuc291cmNlZm9yZ2UubmV0L2xpc3RzL2xpc3RpbmZvL29wZW5pcG1pLWRldmVsb3Blcgo=
