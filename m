Return-Path: <openipmi-developer-bounces@lists.sourceforge.net>
X-Original-To: lists+openipmi-developer@lfdr.de
Delivered-To: lists+openipmi-developer@lfdr.de
Received: from lists.sourceforge.net (lists.sourceforge.net [216.105.38.7])
	by mail.lfdr.de (Postfix) with ESMTPS id 05BB1B419D5
	for <lists+openipmi-developer@lfdr.de>; Wed,  3 Sep 2025 11:25:30 +0200 (CEST)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
	d=lists.sourceforge.net; s=beta; h=Content-Transfer-Encoding:Content-Type:Cc:
	List-Subscribe:List-Help:List-Post:List-Archive:List-Unsubscribe:List-Id:
	Subject:To:Message-ID:Date:From:In-Reply-To:References:MIME-Version:Sender:
	Reply-To:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender
	:Resent-To:Resent-Cc:Resent-Message-ID:List-Owner;
	bh=6ZisenRI2f7uxGTuhqhuNBiYtrKlF9xjmFXV6RKKhl4=; b=NhQbBsHo0NICsLEOzLKqTYor/E
	yghdRF71rRumkWxJhEvogNIvEO2wNMnkfGTyE9YAxQq3FXwdG3T+33j3tLtAgaI5GhYZvVf3Mm8av
	X+j19H6pnYVdc3kmmz1ecjm8OWss9FxMOsqgE5X86tDL2UT7tJlMFGd7mKHm72XGNmgQ=;
Received: from [127.0.0.1] (helo=sfs-ml-1.v29.lw.sourceforge.com)
	by sfs-ml-1.v29.lw.sourceforge.com with esmtp (Exim 4.95)
	(envelope-from <openipmi-developer-bounces@lists.sourceforge.net>)
	id 1utjjX-0004CG-Ju;
	Wed, 03 Sep 2025 09:24:51 +0000
Received: from [172.30.29.66] (helo=mx.sourceforge.net)
 by sfs-ml-1.v29.lw.sourceforge.com with esmtps (TLS1.2) tls
 TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (Exim 4.95)
 (envelope-from <zhoubb.aaron@gmail.com>) id 1utjjW-0004C5-D6
 for openipmi-developer@lists.sourceforge.net;
 Wed, 03 Sep 2025 09:24:50 +0000
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
 d=sourceforge.net; s=x; h=Content-Transfer-Encoding:Content-Type:Cc:To:
 Subject:Message-ID:Date:From:In-Reply-To:References:MIME-Version:Sender:
 Reply-To:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender
 :Resent-To:Resent-Cc:Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:
 List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=61iULmUas/w+ki0bHI/53L3mNbRcIzLVcQjd3QIQ8mA=; b=PZZQjI30eMB8IkU4kyNtT9mKB6
 omV2fL85YJ7YU0X0Y13OF8jd5JwhZROsKd4PCMx2bPzyHWUw65zM5NFjUGpn0tmQ4wxD/e1+1aw27
 mG0gZ5fkvMhvW3htiFkKu8HAEfijkWrOGS5uG9iZ+qRHxLlgzPFDGDjEOnU5jMYvmuOg=;
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=sf.net; s=x
 ;
 h=Content-Transfer-Encoding:Content-Type:Cc:To:Subject:Message-ID:Date:From
 :In-Reply-To:References:MIME-Version:Sender:Reply-To:Content-ID:
 Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc
 :Resent-Message-ID:List-Id:List-Help:List-Unsubscribe:List-Subscribe:
 List-Post:List-Owner:List-Archive;
 bh=61iULmUas/w+ki0bHI/53L3mNbRcIzLVcQjd3QIQ8mA=; b=CA2QRGMtekkzoqRWbEFELRIdi5
 3OCjeQWcyI9R120ZJoqxbD9jDviGC9k+WECByG61H34G3BbOkQJS0cGnpHJvPsqyAjktYlLxI/c//
 AQV7ZkoIf7nj3B1Jxw7fk+pztRmV9jTVmbttI/UzUICfEi7ivpX9H5F282XcKB3Uo65Y=;
Received: from mail-ed1-f49.google.com ([209.85.208.49])
 by sfi-mx-2.v28.lw.sourceforge.com with esmtps
 (TLS1.2:ECDHE-RSA-AES128-GCM-SHA256:128) (Exim 4.95)
 id 1utjjV-0000Gl-A2 for openipmi-developer@lists.sourceforge.net;
 Wed, 03 Sep 2025 09:24:50 +0000
Received: by mail-ed1-f49.google.com with SMTP id
 4fb4d7f45d1cf-61ed9e63056so819170a12.1
 for <openipmi-developer@lists.sourceforge.net>;
 Wed, 03 Sep 2025 02:24:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20230601; t=1756891478; x=1757496278; darn=lists.sourceforge.net;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:from:to:cc:subject:date
 :message-id:reply-to;
 bh=61iULmUas/w+ki0bHI/53L3mNbRcIzLVcQjd3QIQ8mA=;
 b=GQ4VXE8kyJPOywncz5G7RiXJsV9EU3XQkWTOJFJhcsoTvGRSW/jPH0I88ETWlkvC6V
 085AlIiWHxGzGa4+2NjVL/L8DwZaqEiGi2wcPNkYXMWZGu9zxRFlw5pOcmjGHMcpLk6+
 7iMLnVQnsyERkLQCp+PKLNhwkh5h/MmHA4f73bFyqhs6OcHMqLaNzgWac+7/BDjmvbOE
 /oe+777DjN95JxaVWIapA0vZSEJQ7hSMKAImr1CK6fS6OeTOSopf7DwOYOFWhzVOlgt4
 3a1Srwp/4Fb7ghZjhTYK3QYUSX/r0IWdDzq2KOWdIDuslqcjlXbbsl0Pl8xMldRVaQiX
 2vhg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20230601; t=1756891478; x=1757496278;
 h=content-transfer-encoding:cc:to:subject:message-id:date:from
 :in-reply-to:references:mime-version:x-gm-message-state:from:to:cc
 :subject:date:message-id:reply-to;
 bh=61iULmUas/w+ki0bHI/53L3mNbRcIzLVcQjd3QIQ8mA=;
 b=p00/tiCSviykNiecfQFanNa9MNdijij0Ccu7L9MaI5PrT7igInTyKwEqp2qoUW55ba
 z4q5MiI3e3vcTZ6TrJOszk4hE4X5+IgSsej53eLA3bCwRSVmaFiVcjgWWAX4BpTU2pUH
 Wl6RATNmrppxLuigXhswJ5RS8gjpXhehNTQStML4d4iz6hXbfSKICmTTTwkKpjTlSXs3
 jeTaiv/p3MBMUS87u24YvjuKwhwueBqIQPvFACpiOCHuFAZlaqZ8rrJxytlZs17nH4qa
 zi97Zt6EBIP/WZlIeoRGOA0x4u7TY/rr+MuIzWFYTINfkNW99CNj3wgMoQ/NqbdkDWtO
 Oscg==
X-Forwarded-Encrypted: i=1;
 AJvYcCWW/hccLuDSaTYI1bOeUJ67kA6m+tQK1euN64kQDduJK4c7SWh3nrQYwKNU5xtJmCm5Qah1/XcLWUopAHWy/HYFCqs=@lists.sourceforge.net
X-Gm-Message-State: AOJu0YySyKlKg24InwyHUkkXYLyooqnhzMNRC0/iDjbaCuiI4m7E0neW
 8MN/Y75ZIa5l4Z/o73xh4iqsg9H2SYN/IBTRWq3jqGVoj661WUNhFv5lfQrrR8QFXAycbiKfzA6
 bLsNQzoH1XBMp0GPr4DjOQmry+Sf0Fr8=
X-Gm-Gg: ASbGncveAbAelEXuWZilmiJoyNbKJlBA0pG3pGT7RU6djsV+mNBB5jysD9/NsxuGJWG
 CGpYr1htfFFzvhXLqTrED1WEIjW5LRcrVJlEOO1uKD8sArIzRI9AlH+SJbakeL5SVVoG4kFVdFy
 HT+ynVcc13nxwBePcHxfFhrV8Yp5a5NjxjmOG7e5/mdz8Eqg5BQD+dGOr03xlk6t0uLCOa9aYSL
 +eVAk67usZsTlMR5LbP
X-Google-Smtp-Source: AGHT+IG5w8xIO9s7ozFg+aqxkDl7u0BYBpZDTuYYJ0jSat8vNf19VtszjKY5txGRZAV6vMLpDPl5vWqyrOjhjkfSrIY=
X-Received: by 2002:a05:6402:35c4:b0:61e:9307:705f with SMTP id
 4fb4d7f45d1cf-61e930772b2mr10546912a12.7.1756891477309; Wed, 03 Sep 2025
 02:24:37 -0700 (PDT)
MIME-Version: 1.0
References: <cover.1755853480.git.zhoubinbin@loongson.cn>
 <8c67ace6b4b49725b0a2a7345e3683dbdf65e21c.1755853480.git.zhoubinbin@loongson.cn>
 <20250902144630.GS2163762@google.com>
In-Reply-To: <20250902144630.GS2163762@google.com>
From: Binbin Zhou <zhoubb.aaron@gmail.com>
Date: Wed, 3 Sep 2025 17:24:25 +0800
X-Gm-Features: Ac12FXwdhHpYKrLEYOwLgD9i2h6nn3QMHqQQmhbny8EoRn02rW5coU0gqSc3yvg
Message-ID: <CAMpQs4KdzjhUe5NbrGS5SkuBJ3TUU3QpuMSANBzQKsdR+TD_HQ@mail.gmail.com>
To: Lee Jones <lee@kernel.org>
X-Spam-Score: -0.2 (/)
X-Spam-Report: Spam detection software,
 running on the system "sfi-spamd-1.hosts.colo.sdot.me", 
 has NOT identified this incoming email as spam.  The original
 message has been attached to this so you can view it or label
 similar future email.  If you have any questions, see
 the administrator of that system for details.
 Content preview:  Hi Lee: Thanks for your reply. On Tue, Sep 2, 2025 at 10:46
 PM Lee Jones wrote: > > On Fri, 22 Aug 2025, Binbin Zhou wrote: > > > Since
 the display is a sub-function of the Loongson-2K BMC, when the > > BMC reset, 
 the entire BMC [...] 
 Content analysis details:   (-0.2 points, 5.0 required)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -0.1 DKIM_VALID_AU Message has a valid DKIM or DK signature from author's
 domain
 -0.1 DKIM_VALID_EF          Message has a valid DKIM or DK signature from
 envelope-from domain
 -0.1 DKIM_VALID Message has at least one valid DKIM or DK signature
 0.1 DKIM_SIGNED            Message has a DKIM or DK signature,
 not necessarily valid
 0.0 FREEMAIL_FROM Sender email is commonly abused enduser mail provider
 [zhoubb.aaron(at)gmail.com]
 0.0 RCVD_IN_MSPIKE_H2      RBL: Average reputation (+2)
 [209.85.208.49 listed in wl.mailspike.net]
X-Headers-End: 1utjjV-0000Gl-A2
Subject: Re: [Openipmi-developer] [PATCH v10 2/3] mfd: ls2kbmc: Add
 Loongson-2K BMC reset function support
X-BeenThere: openipmi-developer@lists.sourceforge.net
X-Mailman-Version: 2.1.21
Precedence: list
List-Id: Developer list of OpenIPMI library and Linux driver
 <openipmi-developer.lists.sourceforge.net>
List-Unsubscribe: <https://lists.sourceforge.net/lists/options/openipmi-developer>, 
 <mailto:openipmi-developer-request@lists.sourceforge.net?subject=unsubscribe>
List-Archive: <http://sourceforge.net/mailarchive/forum.php?forum_name=openipmi-developer>
List-Post: <mailto:openipmi-developer@lists.sourceforge.net>
List-Help: <mailto:openipmi-developer-request@lists.sourceforge.net?subject=help>
List-Subscribe: <https://lists.sourceforge.net/lists/listinfo/openipmi-developer>, 
 <mailto:openipmi-developer-request@lists.sourceforge.net?subject=subscribe>
Cc: Chong Qiao <qiaochong@loongson.cn>, jeffbai@aosc.io,
 Corey Minyard <minyard@acm.org>, Binbin Zhou <zhoubinbin@loongson.cn>,
 kexybiscuit@aosc.io, Huacai Chen <chenhuacai@kernel.org>,
 linux-kernel@vger.kernel.org, Corey Minyard <corey@minyard.net>,
 loongarch@lists.linux.dev, wangyao@lemote.com, Xuerui Wang <kernel@xen0n.name>,
 openipmi-developer@lists.sourceforge.net, Huacai Chen <chenhuacai@loongson.cn>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: openipmi-developer-bounces@lists.sourceforge.net

SGkgTGVlOgoKVGhhbmtzIGZvciB5b3VyIHJlcGx5LgoKT24gVHVlLCBTZXAgMiwgMjAyNSBhdCAx
MDo0NuKAr1BNIExlZSBKb25lcyA8bGVlQGtlcm5lbC5vcmc+IHdyb3RlOgo+Cj4gT24gRnJpLCAy
MiBBdWcgMjAyNSwgQmluYmluIFpob3Ugd3JvdGU6Cj4KPiA+IFNpbmNlIHRoZSBkaXNwbGF5IGlz
IGEgc3ViLWZ1bmN0aW9uIG9mIHRoZSBMb29uZ3Nvbi0ySyBCTUMsIHdoZW4gdGhlCj4gPiBCTUMg
cmVzZXQsIHRoZSBlbnRpcmUgQk1DIFBDSWUgaXMgZGlzY29ubmVjdGVkLCBpbmNsdWRpbmcgdGhl
IGRpc3BsYXkKPiA+IHdoaWNoIGlzIGludGVycnVwdGVkLgo+ID4KPiA+IFF1aWNrIG92ZXJ2aWV3
IG9mIHRoZSBlbnRpcmUgTFMySyBCTUMgcmVzZXQgcHJvY2VzczoKPiA+Cj4gPiBUaGVyZSBhcmUg
dHdvIHR5cGVzIG9mIHJlc2V0IG1ldGhvZHM6IHNvZnQgcmVzZXQgKEJNQy1pbml0aWF0ZWQgcmVi
b290Cj4gPiBvZiBJUE1JIHJlc2V0IGNvbW1hbmQpIGFuZCBCTUMgd2F0Y2hkb2cgcmVzZXQgKHdh
dGNoZG9nIHRpbWVvdXQpLgo+ID4KPiA+IEZpcnN0LCByZWdhcmRsZXNzIG9mIHRoZSBtZXRob2Qs
IGFuIGludGVycnVwdCBpcyBnZW5lcmF0ZWQgKFBDSWUgaW50ZXJydXB0Cj4gPiBmb3Igc29mdCBy
ZXNldC9HUElPIGludGVycnVwdCBmb3Igd2F0Y2hkb2cgcmVzZXQpOwo+ID4KPiA+IFNlY29uZCwg
ZHVyaW5nIHRoZSBpbnRlcnJ1cHQgcHJvY2VzcywgdGhlIHN5c3RlbSBlbnRlcnMgYm1jX3Jlc2V0
X3dvcmssCj4gPiBjbGVhcnMgdGhlIGJ1cy9JTy9tZW0gcmVzb3VyY2VzIG9mIHRoZSBMUzdBIFBD
SS1FIGJyaWRnZSwgd2FpdHMgZm9yIHRoZSBCTUMKPiA+IHJlc2V0IHRvIGJlZ2luLCB0aGVuIHJl
c3RvcmVzIHRoZSBwYXJlbnQgZGV2aWNlJ3MgUENJIGNvbmZpZ3VyYXRpb24gc3BhY2UsCj4gPiB3
YWl0cyBmb3IgdGhlIEJNQyByZXNldCB0byBjb21wbGV0ZSwgYW5kIGZpbmFsbHkgcmVzdG9yZXMg
dGhlIEJNQyBQQ0kKPiA+IGNvbmZpZ3VyYXRpb24gc3BhY2UuCj4gPgo+ID4gRGlzcGxheSByZXN0
b3JhdGlvbiBvY2N1cnMgbGFzdC4KPiA+Cj4gPiBDby1kZXZlbG9wZWQtYnk6IENob25nIFFpYW8g
PHFpYW9jaG9uZ0Bsb29uZ3Nvbi5jbj4KPiA+IFNpZ25lZC1vZmYtYnk6IENob25nIFFpYW8gPHFp
YW9jaG9uZ0Bsb29uZ3Nvbi5jbj4KPiA+IFJldmlld2VkLWJ5OiBIdWFjYWkgQ2hlbiA8Y2hlbmh1
YWNhaUBsb29uZ3Nvbi5jbj4KPiA+IEFja2VkLWJ5OiBDb3JleSBNaW55YXJkIDxjb3JleUBtaW55
YXJkLm5ldD4KPiA+IFNpZ25lZC1vZmYtYnk6IEJpbmJpbiBaaG91IDx6aG91YmluYmluQGxvb25n
c29uLmNuPgo+ID4gLS0tCj4gPiAgZHJpdmVycy9tZmQvbHMyay1ibWMtY29yZS5jIHwgMzM2ICsr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwo+ID4gIDEgZmlsZSBjaGFuZ2VkLCAz
MzYgaW5zZXJ0aW9ucygrKQo+Cj4gQ291cGxlIG9mIG5pdHMgdG8gZmluaXNoIHVwOgo+Cj4gPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9tZmQvbHMyay1ibWMtY29yZS5jIGIvZHJpdmVycy9tZmQvbHMy
ay1ibWMtY29yZS5jCj4gPiBpbmRleCAzOWNjNDgxZDliYTEuLmZhN2YxYTgyMjA3NiAxMDA2NDQK
PiA+IC0tLSBhL2RyaXZlcnMvbWZkL2xzMmstYm1jLWNvcmUuYwo+ID4gKysrIGIvZHJpdmVycy9t
ZmQvbHMyay1ibWMtY29yZS5jCj4gPiBAQCAtMTAsOCArMTAsMTIgQEAKPiA+ICAgKi8KPiA+Cj4g
PiAgI2luY2x1ZGUgPGxpbnV4L2FwZXJ0dXJlLmg+Cj4gPiArI2luY2x1ZGUgPGxpbnV4L2JpdGZp
ZWxkLmg+Cj4gPiArI2luY2x1ZGUgPGxpbnV4L2RlbGF5Lmg+Cj4gPiAgI2luY2x1ZGUgPGxpbnV4
L2Vycm5vLmg+Cj4gPiAgI2luY2x1ZGUgPGxpbnV4L2luaXQuaD4KPiA+ICsjaW5jbHVkZSA8bGlu
dXgvaW9wb2xsLmg+Cj4gPiArI2luY2x1ZGUgPGxpbnV4L2tiZF9rZXJuLmg+Cj4gPiAgI2luY2x1
ZGUgPGxpbnV4L2tlcm5lbC5oPgo+ID4gICNpbmNsdWRlIDxsaW51eC9tZmQvY29yZS5oPgo+ID4g
ICNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4KPiA+IEBAIC0xOSw2ICsyMyw4IEBACj4gPiAgI2lu
Y2x1ZGUgPGxpbnV4L3BjaV9pZHMuaD4KPiA+ICAjaW5jbHVkZSA8bGludXgvcGxhdGZvcm1fZGF0
YS9zaW1wbGVmYi5oPgo+ID4gICNpbmNsdWRlIDxsaW51eC9wbGF0Zm9ybV9kZXZpY2UuaD4KPiA+
ICsjaW5jbHVkZSA8bGludXgvc3RvcF9tYWNoaW5lLmg+Cj4gPiArI2luY2x1ZGUgPGxpbnV4L3Z0
X2tlcm4uaD4KPiA+Cj4gPiAgLyogTFMySyBCTUMgcmVzb3VyY2VzICovCj4gPiAgI2RlZmluZSBM
UzJLX0RJU1BMQVlfUkVTX1NUQVJUICAgICAgICAgICAgICAgKFNaXzE2TSArIFNaXzJNKQo+ID4g
QEAgLTI5LDYgKzM1LDQ4IEBACj4gPiAgI2RlZmluZSBMUzJLX0lQTUkzX1JFU19TVEFSVCAgICAg
ICAgIChMUzJLX0lQTUkyX1JFU19TVEFSVCArIExTMktfSVBNSV9SRVNfU0laRSkKPiA+ICAjZGVm
aW5lIExTMktfSVBNSTRfUkVTX1NUQVJUICAgICAgICAgKExTMktfSVBNSTNfUkVTX1NUQVJUICsg
TFMyS19JUE1JX1JFU19TSVpFKQo+ID4KPiA+ICsjZGVmaW5lIExTN0FfUENJX0NGR19TSVpFICAg
ICAgICAgICAgMHgxMDAKPiA+ICsKPiA+ICsvKiBMUzdBIGJyaWRnZSByZWdpc3RlcnMgKi8KPiA+
ICsjZGVmaW5lIExTN0FfUENJRV9QT1JUX0NUTDAgICAgICAgICAgMHgwCj4gPiArI2RlZmluZSBM
UzdBX1BDSUVfUE9SVF9TVFMxICAgICAgICAgIDB4Qwo+ID4gKyNkZWZpbmUgTFM3QV9HRU4yX0NU
TCAgICAgICAgICAgICAgICAgICAgICAgIDB4ODBDCj4gPiArI2RlZmluZSBMUzdBX1NZTUJPTF9U
SU1FUiAgICAgICAgICAgIDB4NzFDCj4gPiArCj4gPiArLyogQml0cyBvZiBMUzdBX1BDSUVfUE9S
VF9DVEwwICovCj4gPiArI2RlZmluZSBMUzJLX0JNQ19QQ0lFX0xUU1NNX0VOQUJMRSAgIEJJVCgz
KQo+ID4gKwo+ID4gKy8qIEJpdHMgb2YgTFM3QV9QQ0lFX1BPUlRfU1RTMSAqLwo+ID4gKyNkZWZp
bmUgTFMyS19CTUNfUENJRV9MVFNTTV9TVFMgICAgICAgICAgICAgIEdFTk1BU0soNSwgMCkKPiA+
ICsjZGVmaW5lIExTMktfQk1DX1BDSUVfQ09OTkVDVEVEICAgICAgICAgICAgICAweDExCj4gPiAr
Cj4gPiArI2RlZmluZSBMUzJLX0JNQ19QQ0lFX0RFTEFZX1VTICAgICAgICAgICAgICAgMTAwMAo+
ID4gKyNkZWZpbmUgTFMyS19CTUNfUENJRV9USU1FT1VUX1VTICAgICAxMDAwMDAwCj4gPiArCj4g
PiArLyogQml0cyBvZiBMUzdBX0dFTjJfQ1RMICovCj4gPiArI2RlZmluZSBMUzdBX0dFTjJfU1BF
RURfQ0hBTkcgICAgICAgICAgICAgICAgQklUKDE3KQo+ID4gKyNkZWZpbmUgTFM3QV9DT05GX1BI
WV9UWCAgICAgICAgICAgICBCSVQoMTgpCj4gPiArCj4gPiArLyogQml0cyBvZiBMUzdBX1NZTUJP
TF9USU1FUiAqLwo+ID4gKyNkZWZpbmUgTFM3QV9NQVNLX0xFTl9NQVRDSCAgICAgICAgICBCSVQo
MjYpCj4gPiArCj4gPiArLyogSW50ZXJ2YWwgYmV0d2VlbiBpbnRlcnJ1cHRpb25zICovCj4gPiAr
I2RlZmluZSBMUzJLX0JNQ19JTlRfSU5URVJWQUwgICAgICAgICAgICAgICAgKDYwICogSFopCj4g
PiArCj4gPiArLyogTWF4aW11bSB0aW1lIHRvIHdhaXQgZm9yIFUtQm9vdCBhbmQgRERSIHRvIGJl
IHJlYWR5IHdpdGggbXMuICovCj4gPiArI2RlZmluZSBMUzJLX0JNQ19SRVNFVF9XQUlUX1RJTUUg
ICAgIDEwMDAwCj4gPiArCj4gPiArLyogSXQncyBhbiBleHBlcmllbmNlIHZhbHVlICovCj4gPiAr
I2RlZmluZSBMUzdBX0JBUjBfQ0hFQ0tfTUFYX1RJTUVTICAgIDIwMDAKPiA+ICsKPiA+ICsjZGVm
aW5lIExTMktfQk1DX1JFU0VUX0dQSU8gICAgICAgICAgMTQKPiA+ICsjZGVmaW5lIExPT05HU09O
X0dQSU9fUkVHX0JBU0UgICAgICAgICAgICAgICAweDFGRTAwNTAwCj4gPiArI2RlZmluZSBMT09O
R1NPTl9HUElPX1JFR19TSVpFICAgICAgICAgICAgICAgMHgxOAo+ID4gKyNkZWZpbmUgTE9PTkdT
T05fR1BJT19PRU4gICAgICAgICAgICAweDAKPiA+ICsjZGVmaW5lIExPT05HU09OX0dQSU9fRlVO
QyAgICAgICAgICAgMHg0Cj4gPiArI2RlZmluZSBMT09OR1NPTl9HUElPX0lOVFBPTCAgICAgICAg
IDB4MTAKPiA+ICsjZGVmaW5lIExPT05HU09OX0dQSU9fSU5URU4gICAgICAgICAgMHgxNAo+ID4g
Kwo+ID4gIGVudW0gewo+ID4gICAgICAgTFMyS19CTUNfRElTUExBWSwKPiA+ICAgICAgIExTMktf
Qk1DX0lQTUkwLAo+ID4gQEAgLTk1LDYgKzE0MywyODEgQEAgc3RhdGljIHN0cnVjdCBtZmRfY2Vs
bCBsczJrX2JtY19jZWxsc1tdID0gewo+ID4gICAgICAgfSwKPiA+ICB9Owo+ID4KPiA+ICsvKiBJ
bmRleCBvZiB0aGUgQk1DIFBDSSBjb25maWd1cmF0aW9uIHNwYWNlIHRvIGJlIHJlc3RvcmVkIGF0
IEJNQyByZXNldC4gKi8KPiA+ICtzdHJ1Y3QgbHMya19ibWNfcGNpX2RhdGEgewo+ID4gKyAgICAg
dTMyIHBjaV9jb21tYW5kOwo+ID4gKyAgICAgdTMyIGJhc2VfYWRkcmVzczA7Cj4gPiArICAgICB1
MzIgaW50ZXJydXB0X2xpbmU7Cj4gPiArfTsKPiA+ICsKPiA+ICsvKiBJbmRleCBvZiB0aGUgcGFy
ZW50IFBDSSBjb25maWd1cmF0aW9uIHNwYWNlIHRvIGJlIHJlc3RvcmVkIGF0IEJNQyByZXNldC4g
Ki8KPiA+ICtzdHJ1Y3QgbHMya19ibWNfYnJpZGdlX3BjaV9kYXRhIHsKPiA+ICsgICAgIHUzMiBw
Y2lfY29tbWFuZDsKPiA+ICsgICAgIHUzMiBiYXNlX2FkZHJlc3NbNl07Cj4gPiArICAgICB1MzIg
cm9tX2FkZHJlZXNzOwo+ID4gKyAgICAgdTMyIGludGVycnVwdF9saW5lOwo+ID4gKyAgICAgdTMy
IG1zaV9oaTsKPiA+ICsgICAgIHUzMiBtc2lfbG87Cj4gPiArICAgICB1MzIgZGV2Y3RsOwo+ID4g
KyAgICAgdTMyIGxpbmtjYXA7Cj4gPiArICAgICB1MzIgbGlua2N0bF9zdHM7Cj4gPiArICAgICB1
MzIgc3ltYm9sX3RpbWVyOwo+ID4gKyAgICAgdTMyIGdlbjJfY3RybDsKPiA+ICt9Owo+ID4gKwo+
ID4gK3N0cnVjdCBsczJrX2JtY19wZGF0YSB7Cj4KPiBEcm9wIHRoZSBwZGF0YSBwYXJ0IGNvbXBs
ZXRlbHkuCj4KPiBwZGF0YSBpcyBzb21ldGhpbmcgZWxzZS4KCkVtbS4uLgpIb3cgYWJvdXQgcmVu
YW1lIGl0IGFzIGxzMmtfYm1jX3ByaXY/IE90aGVyd2lzZSwgdXNpbmcgbHMya19ibWMgYXMgYQpz
dHJ1Y3R1cmUgbmFtZSBzZWVtcyBhIGJpdCBvZGQuCgo+Cj4gPiArICAgICBzdHJ1Y3QgZGV2aWNl
ICpkZXY7Cj4gPiArICAgICBzdHJ1Y3Qgd29ya19zdHJ1Y3QgYm1jX3Jlc2V0X3dvcms7Cj4gPiAr
ICAgICBzdHJ1Y3QgbHMya19ibWNfcGNpX2RhdGEgYm1jX3BjaV9kYXRhOwo+ID4gKyAgICAgc3Ry
dWN0IGxzMmtfYm1jX2JyaWRnZV9wY2lfZGF0YSBicmlkZ2VfcGNpX2RhdGE7Cj4gPiArfTsKPiA+
ICsKPiA+ICtzdGF0aWMgYm9vbCBsczJrX2JtY19iYXIwX2FkZHJfaXNfc2V0KHN0cnVjdCBwY2lf
ZGV2ICpwZGV2KQo+ID4gK3sKPiA+ICsgICAgIHUzMiBhZGRyOwo+ID4gKwo+ID4gKyAgICAgcGNp
X3JlYWRfY29uZmlnX2R3b3JkKHBkZXYsIFBDSV9CQVNFX0FERFJFU1NfMCwgJmFkZHIpOwo+ID4g
Kwo+ID4gKyAgICAgcmV0dXJuIGFkZHIgJiBQQ0lfQkFTRV9BRERSRVNTX01FTV9NQVNLID8gdHJ1
ZSA6IGZhbHNlOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgYm9vbCBsczJrX2JtY19wY2llX2lz
X2Nvbm5lY3RlZChzdHJ1Y3QgcGNpX2RldiAqcGFyZW50LCBzdHJ1Y3QgbHMya19ibWNfcGRhdGEg
KmRkYXRhKQo+ID4gK3sKPiA+ICsgICAgIHZvaWQgX19pb21lbSAqYmFzZTsKPiA+ICsgICAgIGlu
dCB2YWwsIHJldDsKPiA+ICsKPiA+ICsgICAgIGJhc2UgPSBwY2lfaW9tYXAocGFyZW50LCAwLCBM
UzdBX1BDSV9DRkdfU0laRSk7Cj4gPiArICAgICBpZiAoIWJhc2UpCj4gPiArICAgICAgICAgICAg
IHJldHVybiBmYWxzZTsKPiA+ICsKPiA+ICsgICAgIHZhbCA9IHJlYWRsKGJhc2UgKyBMUzdBX1BD
SUVfUE9SVF9DVEwwKTsKPiA+ICsgICAgIHdyaXRlbCh2YWwgfCBMUzJLX0JNQ19QQ0lFX0xUU1NN
X0VOQUJMRSwgYmFzZSArIExTN0FfUENJRV9QT1JUX0NUTDApOwo+ID4gKwo+ID4gKyAgICAgcmV0
ID0gcmVhZGxfcG9sbF90aW1lb3V0X2F0b21pYyhiYXNlICsgTFM3QV9QQ0lFX1BPUlRfU1RTMSwg
dmFsLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodmFsICYgTFMy
S19CTUNfUENJRV9MVFNTTV9TVFMpID09IExTMktfQk1DX1BDSUVfQ09OTkVDVEVELAo+ID4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMUzJLX0JNQ19QQ0lFX0RFTEFZX1VT
LCBMUzJLX0JNQ19QQ0lFX1RJTUVPVVRfVVMpOwo+ID4gKyAgICAgaWYgKHJldCkgewo+ID4gKyAg
ICAgICAgICAgICBwY2lfaW91bm1hcChwYXJlbnQsIGJhc2UpOwo+ID4gKyAgICAgICAgICAgICBk
ZXZfZXJyKGRkYXRhLT5kZXYsICJQQ0ktRSB0cmFpbmluZyBmYWlsZWQgc3RhdHVzPTB4JXhcbiIs
IHZhbCk7Cj4gPiArICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKPiA+ICsgICAgIH0KPiA+ICsK
PiA+ICsgICAgIHBjaV9pb3VubWFwKHBhcmVudCwgYmFzZSk7Cj4gPiArICAgICByZXR1cm4gdHJ1
ZTsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIHZvaWQgbHMya19ibWNfcmVzdG9yZV9icmlkZ2Vf
cGNpX2RhdGEoc3RydWN0IHBjaV9kZXYgKnBhcmVudCwgc3RydWN0IGxzMmtfYm1jX3BkYXRhICpk
ZGF0YSkKPiA+ICt7Cj4gPiArICAgICBpbnQgYmFzZSwgaSA9IDA7Cj4gPiArCj4gPiArICAgICBw
Y2lfd3JpdGVfY29uZmlnX2R3b3JkKHBhcmVudCwgUENJX0NPTU1BTkQsIGRkYXRhLT5icmlkZ2Vf
cGNpX2RhdGEucGNpX2NvbW1hbmQpOwo+ID4gKwo+ID4gKyAgICAgZm9yIChiYXNlID0gUENJX0JB
U0VfQUREUkVTU18wOyBiYXNlIDw9IFBDSV9CQVNFX0FERFJFU1NfNTsgYmFzZSArPSA0LCBpKysp
Cj4KPiBEZWZpbmUgNC4KPgo+ID4gKyAgICAgICAgICAgICBwY2lfd3JpdGVfY29uZmlnX2R3b3Jk
KHBhcmVudCwgYmFzZSwgZGRhdGEtPmJyaWRnZV9wY2lfZGF0YS5iYXNlX2FkZHJlc3NbaV0pOwo+
ID4gKwo+ID4gKyAgICAgcGNpX3dyaXRlX2NvbmZpZ19kd29yZChwYXJlbnQsIFBDSV9ST01fQURE
UkVTUywgZGRhdGEtPmJyaWRnZV9wY2lfZGF0YS5yb21fYWRkcmVlc3MpOwo+ID4gKyAgICAgcGNp
X3dyaXRlX2NvbmZpZ19kd29yZChwYXJlbnQsIFBDSV9JTlRFUlJVUFRfTElORSwgZGRhdGEtPmJy
aWRnZV9wY2lfZGF0YS5pbnRlcnJ1cHRfbGluZSk7Cj4gPiArCj4gPiArICAgICBwY2lfd3JpdGVf
Y29uZmlnX2R3b3JkKHBhcmVudCwgcGFyZW50LT5tc2lfY2FwICsgUENJX01TSV9BRERSRVNTX0xP
LAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZGF0YS0+YnJpZGdlX3BjaV9kYXRh
Lm1zaV9sbyk7Cj4gPiArICAgICBwY2lfd3JpdGVfY29uZmlnX2R3b3JkKHBhcmVudCwgcGFyZW50
LT5tc2lfY2FwICsgUENJX01TSV9BRERSRVNTX0hJLAo+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBkZGF0YS0+YnJpZGdlX3BjaV9kYXRhLm1zaV9oaSk7Cj4gPiArICAgICBwY2lfd3Jp
dGVfY29uZmlnX2R3b3JkKHBhcmVudCwgcGFyZW50LT5wY2llX2NhcCArIFBDSV9FWFBfREVWQ1RM
LAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZGF0YS0+YnJpZGdlX3BjaV9kYXRh
LmRldmN0bCk7Cj4gPiArICAgICBwY2lfd3JpdGVfY29uZmlnX2R3b3JkKHBhcmVudCwgcGFyZW50
LT5wY2llX2NhcCArIFBDSV9FWFBfTE5LQ0FQLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBkZGF0YS0+YnJpZGdlX3BjaV9kYXRhLmxpbmtjYXApOwo+ID4gKyAgICAgcGNpX3dyaXRl
X2NvbmZpZ19kd29yZChwYXJlbnQsIHBhcmVudC0+cGNpZV9jYXAgKyBQQ0lfRVhQX0xOS0NUTCwK
PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGRhdGEtPmJyaWRnZV9wY2lfZGF0YS5s
aW5rY3RsX3N0cyk7Cj4gPiArCj4gPiArICAgICBwY2lfd3JpdGVfY29uZmlnX2R3b3JkKHBhcmVu
dCwgTFM3QV9HRU4yX0NUTCwgZGRhdGEtPmJyaWRnZV9wY2lfZGF0YS5nZW4yX2N0cmwpOwo+ID4g
KyAgICAgcGNpX3dyaXRlX2NvbmZpZ19kd29yZChwYXJlbnQsIExTN0FfU1lNQk9MX1RJTUVSLCBk
ZGF0YS0+YnJpZGdlX3BjaV9kYXRhLnN5bWJvbF90aW1lcik7Cj4gPiArfQo+ID4gKwo+ID4gK3N0
YXRpYyBpbnQgbHMya19ibWNfcmVjb3Zlcl9wY2lfZGF0YSh2b2lkICpkYXRhKQo+ID4gK3sKPiA+
ICsgICAgIHN0cnVjdCBsczJrX2JtY19wZGF0YSAqZGRhdGEgPSBkYXRhOwo+ID4gKyAgICAgc3Ry
dWN0IHBjaV9kZXYgKnBkZXYgPSB0b19wY2lfZGV2KGRkYXRhLT5kZXYpOwo+ID4gKyAgICAgc3Ry
dWN0IHBjaV9kZXYgKnBhcmVudCA9IHBkZXYtPmJ1cy0+c2VsZjsKPiA+ICsgICAgIHUzMiBpOwo+
ID4gKwo+ID4gKyAgICAgLyoKPiA+ICsgICAgICAqIENsZWFyIHRoZSBidXMsIGlvIGFuZCBtZW0g
cmVzb3VyY2VzIG9mIHRoZSBQQ0ktRSBicmlkZ2UgdG8gemVybywgc28gdGhhdAo+ID4gKyAgICAg
ICogdGhlIHByb2Nlc3NvciBjYW4gbm90IGFjY2VzcyB0aGUgTFMySyBQQ0ktRSBwb3J0LCB0byBh
dm9pZCBjcmFzaGluZyBkdWUgdG8KPiA+ICsgICAgICAqIHRoZSBsYWNrIG9mIHJldHVybiBzaWdu
YWwgZnJvbSBhY2Nlc3NpbmcgdGhlIExTMksgUENJLUUgcG9ydC4KPiA+ICsgICAgICAqLwo+ID4g
KyAgICAgcGNpX3dyaXRlX2NvbmZpZ19kd29yZChwYXJlbnQsIFBDSV9CQVNFX0FERFJFU1NfMiwg
MCk7Cj4gPiArICAgICBwY2lfd3JpdGVfY29uZmlnX2R3b3JkKHBhcmVudCwgUENJX0JBU0VfQURE
UkVTU18zLCAwKTsKPiA+ICsgICAgIHBjaV93cml0ZV9jb25maWdfZHdvcmQocGFyZW50LCBQQ0lf
QkFTRV9BRERSRVNTXzQsIDApOwo+ID4gKwo+ID4gKyAgICAgLyoKPiA+ICsgICAgICAqIFdoZW4g
dGhlIExTMksgQk1DIGlzIHJlc2V0LCB0aGUgTFM3QSBQQ0ktRSBwb3J0IGlzIGFsc28gcmVzZXQs
IGFuZCBpdHMgUENJCj4gPiArICAgICAgKiBCQVIwIHJlZ2lzdGVyIGlzIGNsZWFyZWQuIER1ZSB0
byB0aGUgdGltZSBnYXAgYmV0d2VlbiB0aGUgR1BJTyBpbnRlcnJ1cHQKPiA+ICsgICAgICAqIGdl
bmVyYXRpb24gYW5kIHRoZSBMUzJLIEJNQyByZXNldCwgdGhlIExTN0EgUENJIEJBUjAgcmVnaXN0
ZXIgaXMgcmVhZCB0bwo+ID4gKyAgICAgICogZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHJlc2V0IGhh
cyBiZWd1bi4KPiA+ICsgICAgICAqLwo+ID4gKyAgICAgZm9yIChpID0gTFM3QV9CQVIwX0NIRUNL
X01BWF9USU1FUzsgaSA+IDAgOyBpLS0pIHsKPiA+ICsgICAgICAgICAgICAgaWYgKCFsczJrX2Jt
Y19iYXIwX2FkZHJfaXNfc2V0KHBhcmVudCkpCj4gPiArICAgICAgICAgICAgICAgICAgICAgYnJl
YWs7Cj4gPiArICAgICAgICAgICAgIG1kZWxheSgxKTsKPiA+ICsgICAgIH07Cj4gPiArCj4gPiAr
ICAgICBpZiAoaSA9PSAwKQo+ID4gKyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7Cj4gPiArCj4g
PiArICAgICBsczJrX2JtY19yZXN0b3JlX2JyaWRnZV9wY2lfZGF0YShwYXJlbnQsIGRkYXRhKTsK
PiA+ICsKPiA+ICsgICAgIC8qIENoZWNrIGlmIFBDSS1FIGlzIGNvbm5lY3RlZCAqLwo+ID4gKyAg
ICAgaWYgKCFsczJrX2JtY19wY2llX2lzX2Nvbm5lY3RlZChwYXJlbnQsIGRkYXRhKSkKPiA+ICsg
ICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwo+ID4gKwo+ID4gKyAgICAgLyogV2FpdGluZyBmb3Ig
VS1Cb290IGFuZCBERFIgcmVhZHkgKi8KPiA+ICsgICAgIG1kZWxheShMUzJLX0JNQ19SRVNFVF9X
QUlUX1RJTUUpOwo+ID4gKyAgICAgaWYgKCFsczJrX2JtY19iYXIwX2FkZHJfaXNfc2V0KHBhcmVu
dCkpCj4gPiArICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKPiA+ICsKPiA+ICsgICAgIC8qIFJl
c3RvcmUgTFMySyBCTUMgUENJLUUgY29uZmlnIGRhdGEgKi8KPiA+ICsgICAgIHBjaV93cml0ZV9j
b25maWdfZHdvcmQocGRldiwgUENJX0NPTU1BTkQsIGRkYXRhLT5ibWNfcGNpX2RhdGEucGNpX2Nv
bW1hbmQpOwo+ID4gKyAgICAgcGNpX3dyaXRlX2NvbmZpZ19kd29yZChwZGV2LCBQQ0lfQkFTRV9B
RERSRVNTXzAsIGRkYXRhLT5ibWNfcGNpX2RhdGEuYmFzZV9hZGRyZXNzMCk7Cj4gPiArICAgICBw
Y2lfd3JpdGVfY29uZmlnX2R3b3JkKHBkZXYsIFBDSV9JTlRFUlJVUFRfTElORSwgZGRhdGEtPmJt
Y19wY2lfZGF0YS5pbnRlcnJ1cHRfbGluZSk7Cj4gPiArCj4gPiArICAgICByZXR1cm4gMDsKPiA+
ICt9Cj4gPiArCj4gPiArc3RhdGljIHZvaWQgbHMya19ibWNfZXZlbnRzX2ZuKHN0cnVjdCB3b3Jr
X3N0cnVjdCAqd29yaykKPiA+ICt7Cj4gPiArICAgICBzdHJ1Y3QgbHMya19ibWNfcGRhdGEgKmRk
YXRhID0gY29udGFpbmVyX29mKHdvcmssIHN0cnVjdCBsczJrX2JtY19wZGF0YSwgYm1jX3Jlc2V0
X3dvcmspOwo+ID4gKwo+ID4gKyAgICAgLyoKPiA+ICsgICAgICAqIFRoZSBQQ0ktRSBpcyBsb3N0
IHdoZW4gdGhlIEJNQyByZXNldHMsIGF0IHdoaWNoIHBvaW50IGFjY2VzcyB0byB0aGUgUENJLUUK
PiA+ICsgICAgICAqIGZyb20gb3RoZXIgQ1BVcyBpcyBzdXNwZW5kZWQgdG8gcHJldmVudCBhIGNy
YXNoLgo+ID4gKyAgICAgICovCj4gPiArICAgICBzdG9wX21hY2hpbmUobHMya19ibWNfcmVjb3Zl
cl9wY2lfZGF0YSwgZGRhdGEsIE5VTEwpOwo+ID4gKwo+ID4gKyAgICAgaWYgKElTX0VOQUJMRUQo
Q09ORklHX1ZUKSkgewo+ID4gKyAgICAgICAgICAgICAvKiBSZS1wdXNoIHRoZSBkaXNwbGF5IGR1
ZSB0byBwcmV2aW91cyBQQ0ktRSBsb3NzLiAqLwo+ID4gKyAgICAgICAgICAgICBzZXRfY29uc29s
ZSh2dF9tb3ZlX3RvX2NvbnNvbGUoTUFYX05SX0NPTlNPTEVTIC0gMSwgMSkpOwo+ID4gKyAgICAg
fQo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgaXJxcmV0dXJuX3QgbHMya19ibWNfaW50ZXJydXB0
KGludCBpcnEsIHZvaWQgKmFyZykKPiA+ICt7Cj4gPiArICAgICBzdHJ1Y3QgbHMya19ibWNfcGRh
dGEgKmRkYXRhID0gYXJnOwo+ID4gKyAgICAgc3RhdGljIHVuc2lnbmVkIGxvbmcgbGFzdF9qaWZm
aWVzOwo+ID4gKwo+ID4gKyAgICAgaWYgKHN5c3RlbV9zdGF0ZSAhPSBTWVNURU1fUlVOTklORykK
PiA+ICsgICAgICAgICAgICAgcmV0dXJuIElSUV9IQU5ETEVEOwo+ID4gKwo+ID4gKyAgICAgLyog
U2tpcCBpbnRlcnJ1cHQgaW4gTFMyS19CTUNfSU5UX0lOVEVSVkFMICovCj4gPiArICAgICBpZiAo
dGltZV9hZnRlcihqaWZmaWVzLCBsYXN0X2ppZmZpZXMgKyBMUzJLX0JNQ19JTlRfSU5URVJWQUwp
KSB7Cj4gPiArICAgICAgICAgICAgIHNjaGVkdWxlX3dvcmsoJmRkYXRhLT5ibWNfcmVzZXRfd29y
ayk7Cj4gPiArICAgICAgICAgICAgIGxhc3RfamlmZmllcyA9IGppZmZpZXM7Cj4gPiArICAgICB9
Cj4gPiArCj4gPiArICAgICByZXR1cm4gSVJRX0hBTkRMRUQ7Cj4gPiArfQo+ID4gKwo+ID4gKy8q
Cj4gPiArICogU2F2ZXMgdGhlIEJNQyBwYXJlbnQgZGV2aWNlIChMUzdBKSBhbmQgaXRzIG93biBQ
Q0kgY29uZmlndXJhdGlvbiBzcGFjZSByZWdpc3RlcnMKPiA+ICsgKiB0aGF0IG5lZWQgdG8gYmUg
cmVzdG9yZWQgYWZ0ZXIgQk1DIHJlc2V0Lgo+ID4gKyAqLwo+ID4gK3N0YXRpYyB2b2lkIGxzMmtf
Ym1jX3NhdmVfcGNpX2RhdGEoc3RydWN0IHBjaV9kZXYgKnBkZXYsIHN0cnVjdCBsczJrX2JtY19w
ZGF0YSAqZGRhdGEpCj4gPiArewo+ID4gKyAgICAgc3RydWN0IHBjaV9kZXYgKnBhcmVudCA9IHBk
ZXYtPmJ1cy0+c2VsZjsKPiA+ICsgICAgIGludCBiYXNlLCBpID0gMDsKPiA+ICsKPiA+ICsgICAg
IHBjaV9yZWFkX2NvbmZpZ19kd29yZChwYXJlbnQsIFBDSV9DT01NQU5ELCAmZGRhdGEtPmJyaWRn
ZV9wY2lfZGF0YS5wY2lfY29tbWFuZCk7Cj4gPiArCj4gPiArICAgICBmb3IgKGJhc2UgPSBQQ0lf
QkFTRV9BRERSRVNTXzA7IGJhc2UgPD0gUENJX0JBU0VfQUREUkVTU181OyBiYXNlICs9IDQsIGkr
KykKPiA+ICsgICAgICAgICAgICAgcGNpX3JlYWRfY29uZmlnX2R3b3JkKHBhcmVudCwgYmFzZSwg
JmRkYXRhLT5icmlkZ2VfcGNpX2RhdGEuYmFzZV9hZGRyZXNzW2ldKTsKPiA+ICsKPiA+ICsgICAg
IHBjaV9yZWFkX2NvbmZpZ19kd29yZChwYXJlbnQsIFBDSV9ST01fQUREUkVTUywgJmRkYXRhLT5i
cmlkZ2VfcGNpX2RhdGEucm9tX2FkZHJlZXNzKTsKPiA+ICsgICAgIHBjaV9yZWFkX2NvbmZpZ19k
d29yZChwYXJlbnQsIFBDSV9JTlRFUlJVUFRfTElORSwgJmRkYXRhLT5icmlkZ2VfcGNpX2RhdGEu
aW50ZXJydXB0X2xpbmUpOwo+ID4gKwo+ID4gKyAgICAgcGNpX3JlYWRfY29uZmlnX2R3b3JkKHBh
cmVudCwgcGFyZW50LT5tc2lfY2FwICsgUENJX01TSV9BRERSRVNTX0xPLAo+ID4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICZkZGF0YS0+YnJpZGdlX3BjaV9kYXRhLm1zaV9sbyk7Cj4gPiAr
ICAgICBwY2lfcmVhZF9jb25maWdfZHdvcmQocGFyZW50LCBwYXJlbnQtPm1zaV9jYXAgKyBQQ0lf
TVNJX0FERFJFU1NfSEksCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgJmRkYXRhLT5i
cmlkZ2VfcGNpX2RhdGEubXNpX2hpKTsKPiA+ICsKPiA+ICsgICAgIHBjaV9yZWFkX2NvbmZpZ19k
d29yZChwYXJlbnQsIHBhcmVudC0+cGNpZV9jYXAgKyBQQ0lfRVhQX0RFVkNUTCwKPiA+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAmZGRhdGEtPmJyaWRnZV9wY2lfZGF0YS5kZXZjdGwpOwo+
ID4gKyAgICAgcGNpX3JlYWRfY29uZmlnX2R3b3JkKHBhcmVudCwgcGFyZW50LT5wY2llX2NhcCAr
IFBDSV9FWFBfTE5LQ0FQLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICZkZGF0YS0+
YnJpZGdlX3BjaV9kYXRhLmxpbmtjYXApOwo+ID4gKyAgICAgcGNpX3JlYWRfY29uZmlnX2R3b3Jk
KHBhcmVudCwgcGFyZW50LT5wY2llX2NhcCArIFBDSV9FWFBfTE5LQ1RMLAo+ID4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICZkZGF0YS0+YnJpZGdlX3BjaV9kYXRhLmxpbmtjdGxfc3RzKTsK
PiA+ICsKPiA+ICsgICAgIHBjaV9yZWFkX2NvbmZpZ19kd29yZChwYXJlbnQsIExTN0FfR0VOMl9D
VEwsICZkZGF0YS0+YnJpZGdlX3BjaV9kYXRhLmdlbjJfY3RybCk7Cj4gPiArICAgICBkZGF0YS0+
YnJpZGdlX3BjaV9kYXRhLmdlbjJfY3RybCB8PSBGSUVMRF9QUkVQKExTN0FfR0VOMl9TUEVFRF9D
SEFORywgMHgxKQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IEZJ
RUxEX1BSRVAoTFM3QV9DT05GX1BIWV9UWCwgMHgwKTsKPiA+ICsKPiA+ICsgICAgIHBjaV9yZWFk
X2NvbmZpZ19kd29yZChwYXJlbnQsIExTN0FfU1lNQk9MX1RJTUVSLCAmZGRhdGEtPmJyaWRnZV9w
Y2lfZGF0YS5zeW1ib2xfdGltZXIpOwo+ID4gKyAgICAgZGRhdGEtPmJyaWRnZV9wY2lfZGF0YS5z
eW1ib2xfdGltZXIgfD0gTFM3QV9NQVNLX0xFTl9NQVRDSDsKPiA+ICsKPiA+ICsgICAgIHBjaV9y
ZWFkX2NvbmZpZ19kd29yZChwZGV2LCBQQ0lfQ09NTUFORCwgJmRkYXRhLT5ibWNfcGNpX2RhdGEu
cGNpX2NvbW1hbmQpOwo+ID4gKyAgICAgcGNpX3JlYWRfY29uZmlnX2R3b3JkKHBkZXYsIFBDSV9C
QVNFX0FERFJFU1NfMCwgJmRkYXRhLT5ibWNfcGNpX2RhdGEuYmFzZV9hZGRyZXNzMCk7Cj4gPiAr
ICAgICBwY2lfcmVhZF9jb25maWdfZHdvcmQocGRldiwgUENJX0lOVEVSUlVQVF9MSU5FLCAmZGRh
dGEtPmJtY19wY2lfZGF0YS5pbnRlcnJ1cHRfbGluZSk7Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRp
YyBpbnQgbHMya19ibWNfcGRhdGFfaW5pdGlhbChzdHJ1Y3QgbHMya19ibWNfcGRhdGEgKmRkYXRh
KQo+Cj4gV2hhdCBhcmUgeW91IGFjdHVhbGx5IGRvaW5nIGhlcmUgZXhhY3RseS4KPgo+IEkgZG9u
J3QgdGhpbmsgInBkYXRhX2luaXRpYWwiIGRlc2NyaWJlcyBpdC4KCkluZGVlZCwgYXMgdGhlIGZ1
bmN0aW9uIGV4cGFuZHMsIGl0cyBuYW1lIHNob3VsZCBiZSB1cGRhdGVkLgpJdCBub3cgaGFuZGxl
cyBtdWx0aXBsZSB0YXNrcywgc3VjaCBhcyBHUElPIGluaXRpYWxpemF0aW9uIGFuZAppbnRlcnJ1
cHQgcmVnaXN0cmF0aW9uLiBPdmVyYWxsLCBpdCBpbml0aWFsaXplcyB0aGUgbHMyayBCTUMgZGV2
aWNlLgoKSG93IGFib3V0IHJlbmFtaW5nIGl0IHRvIGxzMmtfYm1jX2RldmljZV9yZXF1ZXN0KCk/
Cj4KPiA+ICt7Cj4gPiArICAgICBzdHJ1Y3QgcGNpX2RldiAqcGRldiA9IHRvX3BjaV9kZXYoZGRh
dGEtPmRldik7Cj4gPiArICAgICBpbnQgZ3NpID0gMTYgKyAoTFMyS19CTUNfUkVTRVRfR1BJTyAm
IDcpOwo+Cj4gRGVmaW5lIDE2Lgo+Cj4gPiArICAgICB2b2lkIF9faW9tZW0gKmdwaW9fYmFzZTsK
PiA+ICsgICAgIGludCBpcnEsIHJldCwgdmFsOwo+ID4gKwo+ID4gKyAgICAgbHMya19ibWNfc2F2
ZV9wY2lfZGF0YShwZGV2LCBkZGF0YSk7Cj4gPiArCj4gPiArICAgICBJTklUX1dPUksoJmRkYXRh
LT5ibWNfcmVzZXRfd29yaywgbHMya19ibWNfZXZlbnRzX2ZuKTsKPiA+ICsKPiA+ICsgICAgIHJl
dCA9IGRldm1fcmVxdWVzdF9pcnEoJnBkZXYtPmRldiwgcGRldi0+aXJxLCBsczJrX2JtY19pbnRl
cnJ1cHQsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgIElSUUZfU0hBUkVEIHwgSVJR
Rl9UUklHR0VSX0ZBTExJTkcsICJsczJrYm1jIHBjaWUiLCBkZGF0YSk7Cj4gPiArICAgICBpZiAo
cmV0KSB7Cj4gPiArICAgICAgICAgICAgIGRldl9lcnIoZGRhdGEtPmRldiwgIkZhaWxlZCB0byBy
ZXF1ZXN0IExTMktCTUMgUENJLUUgSVJRICVkLlxuIiwgcGRldi0+aXJxKTsKPiA+ICsgICAgICAg
ICAgICAgcmV0dXJuIHJldDsKPiA+ICsgICAgIH0KPiA+ICsKPiA+ICsgICAgIC8qCj4gPiArICAg
ICAgKiBTaW5jZSBncGlvX2NoaXAtPnRvX2lycSBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhlIExv
b25nc29uLTMgR1BJTyBkcml2ZXIsCj4gPiArICAgICAgKiBhY3BpX3JlZ2lzdGVyX2dzaSgpIGlz
IHVzZWQgdG8gb2J0YWluIHRoZSBHUElPIElSUS4gVGhlIEdQSU8gaW50ZXJydXB0IGlzIGEKPiA+
ICsgICAgICAqIHdhdGNoZG9nIGludGVycnVwdCB0aGF0IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBC
TUMgcmVzZXRzLgo+ID4gKyAgICAgICovCj4gPiArICAgICBpcnEgPSBhY3BpX3JlZ2lzdGVyX2dz
aShOVUxMLCBnc2ksIEFDUElfRURHRV9TRU5TSVRJVkUsIEFDUElfQUNUSVZFX0xPVyk7Cj4gPiAr
ICAgICBpZiAoaXJxIDwgMCkKPiA+ICsgICAgICAgICAgICAgcmV0dXJuIGlycTsKPiA+ICsKPiA+
ICsgICAgIGdwaW9fYmFzZSA9IGlvcmVtYXAoTE9PTkdTT05fR1BJT19SRUdfQkFTRSwgTE9PTkdT
T05fR1BJT19SRUdfU0laRSk7Cj4gPiArICAgICBpZiAoIWdwaW9fYmFzZSkgewo+ID4gKyAgICAg
ICAgICAgICByZXQgPSAtRU5PTUVNOwo+ID4gKyAgICAgICAgICAgICBnb3RvIGFjcGlfZmFpbGVk
Owo+ID4gKyAgICAgfQo+ID4gKwo+ID4gKyAgICAgLyogRGlzYWJsZSBHUElPIG91dHB1dCAqLwo+
ID4gKyAgICAgdmFsID0gcmVhZGwoZ3Bpb19iYXNlICsgTE9PTkdTT05fR1BJT19PRU4pOwo+ID4g
KyAgICAgd3JpdGVsKHZhbCB8IEJJVChMUzJLX0JNQ19SRVNFVF9HUElPKSwgZ3Bpb19iYXNlICsg
TE9PTkdTT05fR1BJT19PRU4pOwo+ID4gKwo+ID4gKyAgICAgLyogRW5hYmxlIEdQSU8gZnVuY3Rp
b25hbGl0eSAqLwo+ID4gKyAgICAgdmFsID0gcmVhZGwoZ3Bpb19iYXNlICsgTE9PTkdTT05fR1BJ
T19GVU5DKTsKPiA+ICsgICAgIHdyaXRlbCh2YWwgJiB+QklUKExTMktfQk1DX1JFU0VUX0dQSU8p
LCBncGlvX2Jhc2UgKyBMT09OR1NPTl9HUElPX0ZVTkMpOwo+ID4gKwo+ID4gKyAgICAgLyogU2V0
IEdQSU8gaW50ZXJydXB0cyB0byBsb3ctbGV2ZWwgYWN0aXZlICovCj4gPiArICAgICB2YWwgPSBy
ZWFkbChncGlvX2Jhc2UgKyBMT09OR1NPTl9HUElPX0lOVFBPTCk7Cj4gPiArICAgICB3cml0ZWwo
dmFsICYgfkJJVChMUzJLX0JNQ19SRVNFVF9HUElPKSwgZ3Bpb19iYXNlICsgTE9PTkdTT05fR1BJ
T19JTlRQT0wpOwo+ID4gKwo+ID4gKyAgICAgLyogRW5hYmxlIEdQSU8gaW50ZXJydXB0cyAqLwo+
ID4gKyAgICAgdmFsID0gcmVhZGwoZ3Bpb19iYXNlICsgTE9PTkdTT05fR1BJT19JTlRFTik7Cj4g
PiArICAgICB3cml0ZWwodmFsIHwgQklUKExTMktfQk1DX1JFU0VUX0dQSU8pLCBncGlvX2Jhc2Ug
KyBMT09OR1NPTl9HUElPX0lOVEVOKTsKPiA+ICsKPiA+ICsgICAgIHJldCA9IGRldm1fcmVxdWVz
dF9pcnEoZGRhdGEtPmRldiwgaXJxLCBsczJrX2JtY19pbnRlcnJ1cHQsCj4gPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIElSUUZfU0hBUkVEIHwgSVJRRl9UUklHR0VSX0ZBTExJTkcsICJs
czJrYm1jIGdwaW8iLCBkZGF0YSk7Cj4gPiArICAgICBpZiAocmV0KQo+ID4gKyAgICAgICAgICAg
ICBkZXZfZXJyKGRkYXRhLT5kZXYsICJGYWlsZWQgdG8gcmVxdWVzdCBMUzJLQk1DIEdQSU8gSVJR
ICVkLlxuIiwgaXJxKTsKPiA+ICsKPiA+ICsgICAgIGlvdW5tYXAoZ3Bpb19iYXNlKTsKPiA+ICsK
PiA+ICthY3BpX2ZhaWxlZDoKPiA+ICsgICAgIGFjcGlfdW5yZWdpc3Rlcl9nc2koZ3NpKTsKPiA+
ICsgICAgIHJldHVybiByZXQ7Cj4gPiArfQo+ID4gKwo+ID4gIC8qCj4gPiAgICogQ3VycmVudGx5
IHRoZSBMb29uZ3Nvbi0ySyBCTUMgaGFyZHdhcmUgZG9lcyBub3QgaGF2ZSBhbiBJMkMgaW50ZXJm
YWNlIHRvIGFkYXB0IHRvIHRoZQo+ID4gICAqIHJlc29sdXRpb24uIFdlIHNldCB0aGUgcmVzb2x1
dGlvbiBieSBwcmVzZXR0aW5nICJ2aWRlbz0xMjgweDEwMjQtMTZAMk0iIHRvIHRoZSBCTUMgbWVt
b3J5Lgo+ID4gQEAgLTEzNCw2ICs0NTcsNyBAQCBzdGF0aWMgaW50IGxzMmtfYm1jX3BhcnNlX21v
ZGUoc3RydWN0IHBjaV9kZXYgKnBkZXYsIHN0cnVjdCBzaW1wbGVmYl9wbGF0Zm9ybV9kYQo+ID4g
IHN0YXRpYyBpbnQgbHMya19ibWNfcHJvYmUoc3RydWN0IHBjaV9kZXYgKmRldiwgY29uc3Qgc3Ry
dWN0IHBjaV9kZXZpY2VfaWQgKmlkKQo+ID4gIHsKPiA+ICAgICAgIHN0cnVjdCBzaW1wbGVmYl9w
bGF0Zm9ybV9kYXRhIHBkOwo+ID4gKyAgICAgc3RydWN0IGxzMmtfYm1jX3BkYXRhICpkZGF0YTsK
PiA+ICAgICAgIHJlc291cmNlX3NpemVfdCBiYXNlOwo+ID4gICAgICAgaW50IHJldDsKPiA+Cj4g
PiBAQCAtMTQxLDYgKzQ2NSwxOCBAQCBzdGF0aWMgaW50IGxzMmtfYm1jX3Byb2JlKHN0cnVjdCBw
Y2lfZGV2ICpkZXYsIGNvbnN0IHN0cnVjdCBwY2lfZGV2aWNlX2lkICppZCkKPiA+ICAgICAgIGlm
IChyZXQpCj4gPiAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gPgo+ID4gKyAgICAgZGRhdGEg
PSBkZXZtX2t6YWxsb2MoJmRldi0+ZGV2LCBzaXplb2YoKmRkYXRhKSwgR0ZQX0tFUk5FTCk7Cj4g
PiArICAgICBpZiAoSVNfRVJSKGRkYXRhKSkgewo+ID4gKyAgICAgICAgICAgICByZXQgPSAtRU5P
TUVNOwo+ID4gKyAgICAgICAgICAgICBnb3RvIGRpc2FibGVfcGNpOwo+ID4gKyAgICAgfQo+ID4g
Kwo+ID4gKyAgICAgZGRhdGEtPmRldiA9ICZkZXYtPmRldjsKPiA+ICsKPiA+ICsgICAgIHJldCA9
IGxzMmtfYm1jX3BkYXRhX2luaXRpYWwoZGRhdGEpOwo+ID4gKyAgICAgaWYgKHJldCkKPiA+ICsg
ICAgICAgICAgICAgZ290byBkaXNhYmxlX3BjaTsKPiA+ICsKPiA+ICAgICAgIHJldCA9IGxzMmtf
Ym1jX3BhcnNlX21vZGUoZGV2LCAmcGQpOwo+ID4gICAgICAgaWYgKHJldCkKPiA+ICAgICAgICAg
ICAgICAgZ290byBkaXNhYmxlX3BjaTsKPiA+IC0tCj4gPiAyLjQ3LjMKPiA+Cj4KPiAtLQo+IExl
ZSBKb25lcyBb5p2O55C85pavXQoKLS0KVGhhbmtzLgpCaW5iaW4KCgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpPcGVuaXBtaS1kZXZlbG9wZXIgbWFpbGlu
ZyBsaXN0Ck9wZW5pcG1pLWRldmVsb3BlckBsaXN0cy5zb3VyY2Vmb3JnZS5uZXQKaHR0cHM6Ly9s
aXN0cy5zb3VyY2Vmb3JnZS5uZXQvbGlzdHMvbGlzdGluZm8vb3BlbmlwbWktZGV2ZWxvcGVyCg==
